/*! For license information please see vendors~main~7274e1de.e1e2a5d55a05dc4b96e2.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";function isEmpty(arr){return arr&&0===arr.length}function keys(obj){return null==obj?[]:Object.keys(obj)}function values(obj){for(var vals=[],keys=Object.keys(obj),i=0;i<keys.length;i++)vals.push(obj[keys[i]]);return vals}function mapValues(obj,callback){for(var result=[],objKeys=keys(obj),idx=0;idx<objKeys.length;idx++){var currKey=objKeys[idx];result.push(callback.call(null,obj[currKey],currKey))}return result}function map(arr,callback){for(var result=[],idx=0;idx<arr.length;idx++)result.push(callback.call(null,arr[idx],idx));return result}function flatten(arr){for(var result=[],idx=0;idx<arr.length;idx++){var currItem=arr[idx];Array.isArray(currItem)?result=result.concat(flatten(currItem)):result.push(currItem)}return result}function first(arr){return isEmpty(arr)?void 0:arr[0]}function last(arr){var len=arr&&arr.length;return len?arr[len-1]:void 0}function forEach(collection,iteratorCallback){if(Array.isArray(collection))for(var i=0;i<collection.length;i++)iteratorCallback.call(null,collection[i],i);else{if(!isObject(collection))throw Error("non exhaustive match");var colKeys=keys(collection);for(i=0;i<colKeys.length;i++){var key=colKeys[i],value=collection[key];iteratorCallback.call(null,value,key)}}}function isString(item){return"string"==typeof item}function isUndefined(item){return void 0===item}function isFunction(item){return item instanceof Function}function drop(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(howMuch,arr.length)}function dropRight(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(0,arr.length-howMuch)}function filter(arr,predicate){var result=[];if(Array.isArray(arr))for(var i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&result.push(item)}return result}function reject(arr,predicate){return filter(arr,(function(item){return!predicate(item)}))}function pick(obj,predicate){for(var keys=Object.keys(obj),result={},i=0;i<keys.length;i++){var currKey=keys[i],currItem=obj[currKey];predicate(currItem)&&(result[currKey]=currItem)}return result}function has(obj,prop){return!!isObject(obj)&&obj.hasOwnProperty(prop)}function contains(arr,item){return void 0!==find(arr,(function(currItem){return currItem===item}))}function cloneArr(arr){for(var newArr=[],i=0;i<arr.length;i++)newArr.push(arr[i]);return newArr}function cloneObj(obj){var clonedObj={};for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(clonedObj[key]=obj[key]);return clonedObj}function find(arr,predicate){for(var i=0;i<arr.length;i++){var item=arr[i];if(predicate.call(null,item))return item}}function findAll(arr,predicate){for(var found=[],i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&found.push(item)}return found}function reduce(arrOrObj,iterator,initial){for(var isArr=Array.isArray(arrOrObj),vals=isArr?arrOrObj:values(arrOrObj),objKeys=isArr?[]:keys(arrOrObj),accumulator=initial,i=0;i<vals.length;i++)accumulator=iterator.call(null,accumulator,vals[i],isArr?i:objKeys[i]);return accumulator}function compact(arr){return reject(arr,(function(item){return null==item}))}function uniq(arr,identity){void 0===identity&&(identity=function(item){return item});var identities=[];return reduce(arr,(function(result,currItem){var currIdentity=identity(currItem);return contains(identities,currIdentity)?result:(identities.push(currIdentity),result.concat(currItem))}),[])}function partial(func){for(var restArgs=[],_i=1;_i<arguments.length;_i++)restArgs[_i-1]=arguments[_i];var firstArg=[null],allArgs=firstArg.concat(restArgs);return Function.bind.apply(func,allArgs)}function isArray(obj){return Array.isArray(obj)}function isRegExp(obj){return obj instanceof RegExp}function isObject(obj){return obj instanceof Object}function every(arr,predicate){for(var i=0;i<arr.length;i++)if(!predicate(arr[i],i))return!1;return!0}function difference(arr,values){return reject(arr,(function(item){return contains(values,item)}))}function some(arr,predicate){for(var i=0;i<arr.length;i++)if(predicate(arr[i]))return!0;return!1}function indexOf(arr,value){for(var i=0;i<arr.length;i++)if(arr[i]===value)return i;return-1}function sortBy(arr,orderFunc){var result=cloneArr(arr);return result.sort((function(a,b){return orderFunc(a)-orderFunc(b)})),result}function zipObject(keys,values){if(keys.length!==values.length)throw Error("can't zipObject with different number of keys and values!");for(var result={},i=0;i<keys.length;i++)result[keys[i]]=values[i];return result}function assign(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++)for(var curSource=sources[i],currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];target[currKey]=curSource[currKey]}return target}function assignNoOverwrite(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++)for(var curSource=sources[i],currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];has(target,currKey)||(target[currKey]=curSource[currKey])}return target}function defaults(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i]=arguments[_i];return assignNoOverwrite.apply(null,[{}].concat(sources))}function groupBy(arr,groupKeyFunc){var result={};return forEach(arr,(function(item){var currGroupKey=groupKeyFunc(item),currGroupArr=result[currGroupKey];currGroupArr?currGroupArr.push(item):result[currGroupKey]=[item]})),result}function merge(obj1,obj2){for(var result=cloneObj(obj1),keys2=keys(obj2),i=0;i<keys2.length;i++){var key=keys2[i],value=obj2[key];result[key]=value}return result}function NOOP(){}function IDENTITY(item){return item}function packArray(holeyArr){for(var result=[],i=0;i<holeyArr.length;i++){var orgValue=holeyArr[i];result.push(void 0!==orgValue?orgValue:void 0)}return result}function PRINT_ERROR(msg){console&&console.error&&console.error("Error: "+msg)}function PRINT_WARNING(msg){console&&console.warn&&console.warn("Warning: "+msg)}function isES2015MapSupported(){return"function"==typeof Map}function applyMixins(derivedCtor,baseCtors){baseCtors.forEach((function(baseCtor){var baseProto=baseCtor.prototype;Object.getOwnPropertyNames(baseProto).forEach((function(propName){if("constructor"!==propName){var basePropDescriptor=Object.getOwnPropertyDescriptor(baseProto,propName);basePropDescriptor&&(basePropDescriptor.get||basePropDescriptor.set)?Object.defineProperty(derivedCtor.prototype,propName,basePropDescriptor):derivedCtor.prototype[propName]=baseCtor.prototype[propName]}}))}))}function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast}function peek(arr){return arr[arr.length-1]}function timer(func){var start=(new Date).getTime(),val=func();return{time:(new Date).getTime()-start,value:val}}__webpack_require__.d(__webpack_exports__,"A",(function(){return isEmpty})),__webpack_require__.d(__webpack_exports__,"G",(function(){return keys})),__webpack_require__.d(__webpack_exports__,"U",(function(){return values})),__webpack_require__.d(__webpack_exports__,"J",(function(){return mapValues})),__webpack_require__.d(__webpack_exports__,"I",(function(){return map})),__webpack_require__.d(__webpack_exports__,"t",(function(){return flatten})),__webpack_require__.d(__webpack_exports__,"s",(function(){return first})),__webpack_require__.d(__webpack_exports__,"H",(function(){return last})),__webpack_require__.d(__webpack_exports__,"u",(function(){return forEach})),__webpack_require__.d(__webpack_exports__,"E",(function(){return isString})),__webpack_require__.d(__webpack_exports__,"F",(function(){return isUndefined})),__webpack_require__.d(__webpack_exports__,"B",(function(){return isFunction})),__webpack_require__.d(__webpack_exports__,"m",(function(){return drop})),__webpack_require__.d(__webpack_exports__,"n",(function(){return dropRight})),__webpack_require__.d(__webpack_exports__,"p",(function(){return filter})),__webpack_require__.d(__webpack_exports__,"P",(function(){return reject})),__webpack_require__.d(__webpack_exports__,"N",(function(){return pick})),__webpack_require__.d(__webpack_exports__,"w",(function(){return has})),__webpack_require__.d(__webpack_exports__,"j",(function(){return contains})),__webpack_require__.d(__webpack_exports__,"g",(function(){return cloneArr})),__webpack_require__.d(__webpack_exports__,"h",(function(){return cloneObj})),__webpack_require__.d(__webpack_exports__,"q",(function(){return find})),__webpack_require__.d(__webpack_exports__,"r",(function(){return findAll})),__webpack_require__.d(__webpack_exports__,"O",(function(){return reduce})),__webpack_require__.d(__webpack_exports__,"i",(function(){return compact})),__webpack_require__.d(__webpack_exports__,"T",(function(){return uniq})),__webpack_require__.d(__webpack_exports__,"y",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,"D",(function(){return isRegExp})),__webpack_require__.d(__webpack_exports__,"C",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,"o",(function(){return every})),__webpack_require__.d(__webpack_exports__,"l",(function(){return difference})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return some})),__webpack_require__.d(__webpack_exports__,"x",(function(){return indexOf})),__webpack_require__.d(__webpack_exports__,"f",(function(){return assign})),__webpack_require__.d(__webpack_exports__,"k",(function(){return defaults})),__webpack_require__.d(__webpack_exports__,"v",(function(){return groupBy})),__webpack_require__.d(__webpack_exports__,"K",(function(){return merge})),__webpack_require__.d(__webpack_exports__,"b",(function(){return NOOP})),__webpack_require__.d(__webpack_exports__,"a",(function(){return IDENTITY})),__webpack_require__.d(__webpack_exports__,"L",(function(){return packArray})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PRINT_ERROR})),__webpack_require__.d(__webpack_exports__,"d",(function(){return PRINT_WARNING})),__webpack_require__.d(__webpack_exports__,"z",(function(){return isES2015MapSupported})),__webpack_require__.d(__webpack_exports__,"e",(function(){return applyMixins})),__webpack_require__.d(__webpack_exports__,"S",(function(){return toFastProperties})),__webpack_require__.d(__webpack_exports__,"M",(function(){return peek})),__webpack_require__.d(__webpack_exports__,"R",(function(){return timer}))},1001:function(module,exports,__webpack_require__){var colorNames=__webpack_require__(1002),swizzle=__webpack_require__(1003),reverseNames={};for(var name in colorNames)colorNames.hasOwnProperty(name)&&(reverseNames[colorNames[name]]=name);var cs=module.exports={to:{},get:{}};function clamp(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}cs.get=function(string){var val,model;switch(string.substring(0,3).toLowerCase()){case"hsl":val=cs.get.hsl(string),model="hsl";break;case"hwb":val=cs.get.hwb(string),model="hwb";break;default:val=cs.get.rgb(string),model="rgb"}return val?{model:model,value:val}:null},cs.get.rgb=function(string){if(!string)return null;var match,i,hexAlpha,rgb=[0,0,0,1];if(match=string.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(hexAlpha=match[2],match=match[1],i=0;i<3;i++){var i2=2*i;rgb[i]=parseInt(match.slice(i2,i2+2),16)}hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha,16)/255*100)/100)}else if(match=string.match(/^#([a-f0-9]{3,4})$/i)){for(hexAlpha=(match=match[1])[3],i=0;i<3;i++)rgb[i]=parseInt(match[i]+match[i],16);hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha+hexAlpha,16)/255*100)/100)}else if(match=string.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(i=0;i<3;i++)rgb[i]=parseInt(match[i+1],0);match[4]&&(rgb[3]=parseFloat(match[4]))}else{if(!(match=string.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(match=string.match(/(\D+)/))?"transparent"===match[1]?[0,0,0,0]:(rgb=colorNames[match[1]])?(rgb[3]=1,rgb):null:null;for(i=0;i<3;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));match[4]&&(rgb[3]=parseFloat(match[4]))}for(i=0;i<3;i++)rgb[i]=clamp(rgb[i],0,255);return rgb[3]=clamp(rgb[3],0,1),rgb},cs.get.hsl=function(string){if(!string)return null;var match=string.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.get.hwb=function(string){if(!string)return null;var match=string.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])%360+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.to.hex=function(){var rgba=swizzle(arguments);return"#"+hexDouble(rgba[0])+hexDouble(rgba[1])+hexDouble(rgba[2])+(rgba[3]<1?hexDouble(Math.round(255*rgba[3])):"")},cs.to.rgb=function(){var rgba=swizzle(arguments);return rgba.length<4||1===rgba[3]?"rgb("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+")":"rgba("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+", "+rgba[3]+")"},cs.to.rgb.percent=function(){var rgba=swizzle(arguments),r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return rgba.length<4||1===rgba[3]?"rgb("+r+"%, "+g+"%, "+b+"%)":"rgba("+r+"%, "+g+"%, "+b+"%, "+rgba[3]+")"},cs.to.hsl=function(){var hsla=swizzle(arguments);return hsla.length<4||1===hsla[3]?"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)":"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+hsla[3]+")"},cs.to.hwb=function(){var hwba=swizzle(arguments),a="";return hwba.length>=4&&1!==hwba[3]&&(a=", "+hwba[3]),"hwb("+hwba[0]+", "+hwba[1]+"%, "+hwba[2]+"%"+a+")"},cs.to.keyword=function(rgb){return reverseNames[rgb.slice(0,3)]}},1002:function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1005:function(module,exports,__webpack_require__){var conversions=__webpack_require__(511),route=__webpack_require__(1007),convert={};Object.keys(conversions).forEach((function(fromModel){convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels}),Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);Object.keys(routes).forEach((function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=function wrapRounded(fn){var wrappedFn=function(args){if(null==args)return args;arguments.length>1&&(args=Array.prototype.slice.call(arguments));var result=fn(args);if("object"==typeof result)for(var len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn),convert[fromModel][toModel].raw=function wrapRaw(fn){var wrappedFn=function(args){return null==args?args:(arguments.length>1&&(args=Array.prototype.slice.call(arguments)),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn)}))})),module.exports=convert},1006:function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1007:function(module,exports,__webpack_require__){var conversions=__webpack_require__(511);function deriveBFS(fromModel){var graph=function buildGraph(){for(var graph={},models=Object.keys(conversions),len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;)for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];-1===node.distance&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){for(var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}module.exports=function(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i];null!==graph[toModel].parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},1014:function(module,exports){var toString=Object.prototype.toString;function ctorName(val){return"function"==typeof val.constructor?val.constructor.name:null}module.exports=function kindOf(val){if(void 0===val)return"undefined";if(null===val)return"null";var type=typeof val;if("boolean"===type)return"boolean";if("string"===type)return"string";if("number"===type)return"number";if("symbol"===type)return"symbol";if("function"===type)return function isGeneratorFn(name,val){return"GeneratorFunction"===ctorName(name)}(val)?"generatorfunction":"function";if(function isArray(val){return Array.isArray?Array.isArray(val):val instanceof Array}(val))return"array";if(function isBuffer(val){if(val.constructor&&"function"==typeof val.constructor.isBuffer)return val.constructor.isBuffer(val);return!1}(val))return"buffer";if(function isArguments(val){try{if("number"==typeof val.length&&"function"==typeof val.callee)return!0}catch(err){if(-1!==err.message.indexOf("callee"))return!0}return!1}(val))return"arguments";if(function isDate(val){return val instanceof Date||"function"==typeof val.toDateString&&"function"==typeof val.getDate&&"function"==typeof val.setDate}(val))return"date";if(function isError(val){return val instanceof Error||"string"==typeof val.message&&val.constructor&&"number"==typeof val.constructor.stackTraceLimit}(val))return"error";if(function isRegexp(val){return val instanceof RegExp||"string"==typeof val.flags&&"boolean"==typeof val.ignoreCase&&"boolean"==typeof val.multiline&&"boolean"==typeof val.global}(val))return"regexp";switch(ctorName(val)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function isGeneratorObj(val){return"function"==typeof val.throw&&"function"==typeof val.return&&"function"==typeof val.next}(val))return"generator";switch(type=toString.call(val)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return type.slice(8,-1).toLowerCase().replace(/\s/g,"")}},1025:function(module,exports,__webpack_require__){var factory;factory=function(BESSEL){BESSEL.version="1.0.2";var M=Math;function _horner(arr,v){for(var i=0,z=0;i<arr.length;++i)z=v*z+arr[i];return z}function _bessel_iter(x,n,f0,f1,sign){if(0===n)return f0;if(1===n)return f1;for(var tdx=2/x,f2=f1,o=1;o<n;++o)f2=f1*o*tdx+sign*f0,f0=f1,f1=f2;return f2}function _bessel_wrap(bessel0,bessel1,name,nonzero,sign){return function bessel(x,n){if(nonzero){if(0===x)return 1==nonzero?-1/0:1/0;if(x<0)return NaN}return 0===n?bessel0(x):1===n?bessel1(x):n<0?NaN:_bessel_iter(x,n|=0,bessel0(x),bessel1(x),sign)}}var W,b0_a1a,b0_a2a,b0_a1b,b0_a2b,b1_a1a,b1_a2a,b1_a1b,b1_a2b,b0_a,b0_b,b1_a,b1_b,besselj=function(){var W=.636619772,b0_a1a=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),b0_a2a=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse();function bessel0(x){var a=0,a1=0,a2=0,y=x*x;if(x<8)a=(a1=_horner(b0_a1a,y))/(a2=_horner(b0_a2a,y));else{var xx=x-.785398164;a1=_horner(b0_a1b,y=64/y),a2=_horner(b0_a2b,y),a=M.sqrt(W/x)*(M.cos(xx)*a1-M.sin(xx)*a2*8/x)}return a}var b1_a1a=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),b1_a2a=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function bessel1(x){var a=0,a1=0,a2=0,y=x*x,xx=M.abs(x)-2.356194491;return Math.abs(x)<8?a=(a1=x*_horner(b1_a1a,y))/(a2=_horner(b1_a2a,y)):(a1=_horner(b1_a1b,y=64/y),a2=_horner(b1_a2b,y),a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x)),x<0&&(a=-a)),a}return function besselj(x,n){if(n=Math.round(n),!isFinite(x))return isNaN(x)?x:0;if(n<0)return(n%2?-1:1)*besselj(x,-n);if(x<0)return(n%2?-1:1)*besselj(-x,n);if(0===n)return bessel0(x);if(1===n)return bessel1(x);if(0===x)return 0;var ret=0;if(x>n)ret=_bessel_iter(x,n,bessel0(x),bessel1(x),-1);else{for(var jsum=!1,bjp=0,sum=0,bj=1,bjm=0,tox=2/x,j=2*M.floor((n+M.floor(M.sqrt(40*n)))/2);j>0;j--)bjm=j*tox*bj-bjp,bjp=bj,bj=bjm,M.abs(bj)>1e10&&(bj*=1e-10,bjp*=1e-10,ret*=1e-10,sum*=1e-10),jsum&&(sum+=bj),jsum=!jsum,j==n&&(ret=bjp);ret/=sum=2*sum-bj}return ret}}(),bessely=(W=.636619772,b0_a1a=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),b0_a2a=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),b1_a1a=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),b1_a2a=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse(),_bessel_wrap((function bessel0(x){var a=0,a1=0,a2=0,y=x*x,xx=x-.785398164;return x<8?a=(a1=_horner(b0_a1a,y))/(a2=_horner(b0_a2a,y))+W*besselj(x,0)*M.log(x):(a1=_horner(b0_a1b,y=64/y),a2=_horner(b0_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}),(function bessel1(x){var a=0,a1=0,a2=0,y=x*x,xx=x-2.356194491;return x<8?a=(a1=x*_horner(b1_a1a,y))/(a2=_horner(b1_a2a,y))+W*(besselj(x,1)*M.log(x)-1/x):(a1=_horner(b1_a1b,y=64/y),a2=_horner(b1_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}),0,1,-1)),besseli=(b0_a=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),b0_b=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),b1_a=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),b1_b=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse(),function besseli(x,n){if(0===(n=Math.round(n)))return function bessel0(x){return x<=3.75?_horner(b0_a,x*x/14.0625):M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b0_b,3.75/M.abs(x))}(x);if(1===n)return function bessel1(x){return x<3.75?x*_horner(b1_a,x*x/14.0625):(x<0?-1:1)*M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b1_b,3.75/M.abs(x))}(x);if(n<0)return NaN;if(0===M.abs(x))return 0;if(x==1/0)return 1/0;var j,ret=0,tox=2/M.abs(x),bip=0,bi=1,bim=0;for(j=2*M.round((n+M.round(M.sqrt(40*n)))/2);j>0;j--)bim=j*tox*bi+bip,bip=bi,bi=bim,M.abs(bi)>1e10&&(bi*=1e-10,bip*=1e-10,ret*=1e-10),j==n&&(ret=bip);return ret*=besseli(x,0)/bi,x<0&&n%2?-ret:ret}),besselk=function(){var b0_a=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),b0_b=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),b1_a=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),b1_b=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return _bessel_wrap((function bessel0(x){return x<=2?-M.log(x/2)*besseli(x,0)+_horner(b0_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b0_b,2/x)}),(function bessel1(x){return x<=2?M.log(x/2)*besseli(x,1)+1/x*_horner(b1_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b1_b,2/x)}),0,2,1)}();BESSEL.besselj=besselj,BESSEL.bessely=bessely,BESSEL.besseli=besseli,BESSEL.besselk=besselk},"undefined"==typeof DO_NOT_EXPORT_BESSEL?factory(exports):factory({})},112:function(module,exports,__webpack_require__){"use strict";const clone=__webpack_require__(1008),typeOf=__webpack_require__(1014),isPlainObject=__webpack_require__(1015);function cloneDeep(val,instanceClone){switch(typeOf(val)){case"object":return function cloneObjectDeep(val,instanceClone){if("function"==typeof instanceClone)return instanceClone(val);if(instanceClone||isPlainObject(val)){const res=new val.constructor;for(let key in val)res[key]=cloneDeep(val[key],instanceClone);return res}return val}(val,instanceClone);case"array":return function cloneArrayDeep(val,instanceClone){const res=new val.constructor(val.length);for(let i=0;i<val.length;i++)res[i]=cloneDeep(val[i],instanceClone);return res}(val,instanceClone);default:return clone(val)}}module.exports=cloneDeep},262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"CstParser",(function(){return parser_CstParser})),__webpack_require__.d(__webpack_exports__,"EmbeddedActionsParser",(function(){return parser_EmbeddedActionsParser})),__webpack_require__.d(__webpack_exports__,"ParserDefinitionErrorType",(function(){return ParserDefinitionErrorType})),__webpack_require__.d(__webpack_exports__,"EMPTY_ALT",(function(){return EMPTY_ALT})),__webpack_require__.d(__webpack_exports__,"Lexer",(function(){return lexer_public_Lexer})),__webpack_require__.d(__webpack_exports__,"LexerDefinitionErrorType",(function(){return LexerDefinitionErrorType})),__webpack_require__.d(__webpack_exports__,"createToken",(function(){return createToken})),__webpack_require__.d(__webpack_exports__,"createTokenInstance",(function(){return createTokenInstance})),__webpack_require__.d(__webpack_exports__,"EOF",(function(){return EOF})),__webpack_require__.d(__webpack_exports__,"tokenLabel",(function(){return tokenLabel})),__webpack_require__.d(__webpack_exports__,"tokenMatcher",(function(){return tokens_public_tokenMatcher})),__webpack_require__.d(__webpack_exports__,"tokenName",(function(){return tokenName})),__webpack_require__.d(__webpack_exports__,"defaultGrammarResolverErrorProvider",(function(){return defaultGrammarResolverErrorProvider})),__webpack_require__.d(__webpack_exports__,"defaultGrammarValidatorErrorProvider",(function(){return defaultGrammarValidatorErrorProvider})),__webpack_require__.d(__webpack_exports__,"defaultParserErrorProvider",(function(){return defaultParserErrorProvider})),__webpack_require__.d(__webpack_exports__,"EarlyExitException",(function(){return EarlyExitException})),__webpack_require__.d(__webpack_exports__,"isRecognitionException",(function(){return isRecognitionException})),__webpack_require__.d(__webpack_exports__,"MismatchedTokenException",(function(){return MismatchedTokenException})),__webpack_require__.d(__webpack_exports__,"NotAllInputParsedException",(function(){return NotAllInputParsedException})),__webpack_require__.d(__webpack_exports__,"NoViableAltException",(function(){return NoViableAltException})),__webpack_require__.d(__webpack_exports__,"defaultLexerErrorProvider",(function(){return defaultLexerErrorProvider})),__webpack_require__.d(__webpack_exports__,"Alternation",(function(){return gast_public_Alternation})),__webpack_require__.d(__webpack_exports__,"Alternative",(function(){return gast_public_Alternative})),__webpack_require__.d(__webpack_exports__,"NonTerminal",(function(){return gast_public_NonTerminal})),__webpack_require__.d(__webpack_exports__,"Option",(function(){return gast_public_Option})),__webpack_require__.d(__webpack_exports__,"Repetition",(function(){return gast_public_Repetition})),__webpack_require__.d(__webpack_exports__,"RepetitionMandatory",(function(){return gast_public_RepetitionMandatory})),__webpack_require__.d(__webpack_exports__,"RepetitionMandatoryWithSeparator",(function(){return gast_public_RepetitionMandatoryWithSeparator})),__webpack_require__.d(__webpack_exports__,"RepetitionWithSeparator",(function(){return gast_public_RepetitionWithSeparator})),__webpack_require__.d(__webpack_exports__,"Rule",(function(){return gast_public_Rule})),__webpack_require__.d(__webpack_exports__,"Terminal",(function(){return gast_public_Terminal})),__webpack_require__.d(__webpack_exports__,"serializeGrammar",(function(){return serializeGrammar})),__webpack_require__.d(__webpack_exports__,"serializeProduction",(function(){return serializeProduction})),__webpack_require__.d(__webpack_exports__,"GAstVisitor",(function(){return gast_visitor_public_GAstVisitor})),__webpack_require__.d(__webpack_exports__,"assignOccurrenceIndices",(function(){return assignOccurrenceIndices})),__webpack_require__.d(__webpack_exports__,"resolveGrammar",(function(){return gast_resolver_public_resolveGrammar})),__webpack_require__.d(__webpack_exports__,"validateGrammar",(function(){return gast_resolver_public_validateGrammar})),__webpack_require__.d(__webpack_exports__,"clearCache",(function(){return clearCache})),__webpack_require__.d(__webpack_exports__,"createSyntaxDiagramsCode",(function(){return createSyntaxDiagramsCode})),__webpack_require__.d(__webpack_exports__,"generateParserFactory",(function(){return generateParserFactory})),__webpack_require__.d(__webpack_exports__,"generateParserModule",(function(){return generateParserModule})),__webpack_require__.d(__webpack_exports__,"Parser",(function(){return api_Parser}));var VERSION="7.0.1",utils=__webpack_require__(1),regexp_to_ast=__webpack_require__(142),regExpAstCache={},regExpParser=new regexp_to_ast.RegExpParser;function getRegExpAst(regExp){var regExpStr=regExp.toString();if(regExpAstCache.hasOwnProperty(regExpStr))return regExpAstCache[regExpStr];var regExpAst=regExpParser.pattern(regExpStr);return regExpAstCache[regExpStr]=regExpAst,regExpAst}var extendStatics,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),failedOptimizationPrefixMsg='Unable to use "first char" lexer optimizations:\n';function getOptimizedStartCodesIndices(regExp,ensureOptimizations){void 0===ensureOptimizations&&(ensureOptimizations=!1);try{var ast=getRegExpAst(regExp);return function firstCharOptimizedIndices(ast,result,ignoreCase){switch(ast.type){case"Disjunction":for(var i=0;i<ast.value.length;i++)firstCharOptimizedIndices(ast.value[i],result,ignoreCase);break;case"Alternative":var terms=ast.value;for(i=0;i<terms.length;i++){var term=terms[i];switch(term.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var atom=term;switch(atom.type){case"Character":addOptimizedIdxToResult(atom.value,result,ignoreCase);break;case"Set":if(!0===atom.complement)throw Error("Complement Sets are not supported for first char optimization");Object(utils.u)(atom.value,(function(code){if("number"==typeof code)addOptimizedIdxToResult(code,result,ignoreCase);else{var range=code;if(!0===ignoreCase)for(var rangeCode=range.from;rangeCode<=range.to;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);else{for(rangeCode=range.from;rangeCode<=range.to&&rangeCode<minOptimizationVal;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);if(range.to>=minOptimizationVal)for(var minUnOptVal=range.from>=minOptimizationVal?range.from:minOptimizationVal,maxUnOptVal=range.to,minOptIdx=charCodeToOptimizedIndex(minUnOptVal),maxOptIdx=charCodeToOptimizedIndex(maxUnOptVal),currOptIdx=minOptIdx;currOptIdx<=maxOptIdx;currOptIdx++)result[currOptIdx]=currOptIdx}}}));break;case"Group":firstCharOptimizedIndices(atom.value,result,ignoreCase);break;default:throw Error("Non Exhaustive Match")}var isOptionalQuantifier=void 0!==atom.quantifier&&0===atom.quantifier.atLeast;if("Group"===atom.type&&!1===isWholeOptional(atom)||"Group"!==atom.type&&!1===isOptionalQuantifier)break}break;default:throw Error("non exhaustive match!")}return Object(utils.U)(result)}(ast.value,{},ast.flags.ignoreCase)}catch(e){if("Complement Sets are not supported for first char optimization"===e.message)ensureOptimizations&&Object(utils.d)(failedOptimizationPrefixMsg+"\tUnable to optimize: < "+regExp.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var msgSuffix="";ensureOptimizations&&(msgSuffix="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(utils.c)(failedOptimizationPrefixMsg+"\n\tFailed parsing: < "+regExp.toString()+" >\n\tUsing the regexp-to-ast library version: "+regexp_to_ast.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+msgSuffix)}}return[]}function addOptimizedIdxToResult(code,result,ignoreCase){var optimizedCharIdx=charCodeToOptimizedIndex(code);result[optimizedCharIdx]=optimizedCharIdx,!0===ignoreCase&&function handleIgnoreCase(code,result){var char=String.fromCharCode(code),upperChar=char.toUpperCase();if(upperChar!==char){var optimizedCharIdx=charCodeToOptimizedIndex(upperChar.charCodeAt(0));result[optimizedCharIdx]=optimizedCharIdx}else{var lowerChar=char.toLowerCase();if(lowerChar!==char){optimizedCharIdx=charCodeToOptimizedIndex(lowerChar.charCodeAt(0));result[optimizedCharIdx]=optimizedCharIdx}}}(code,result)}function findCode(setNode,targetCharCodes){return Object(utils.q)(setNode.value,(function(codeOrRange){if("number"==typeof codeOrRange)return Object(utils.j)(targetCharCodes,codeOrRange);var range_1=codeOrRange;return void 0!==Object(utils.q)(targetCharCodes,(function(targetCode){return range_1.from<=targetCode&&targetCode<=range_1.to}))}))}function isWholeOptional(ast){return!(!ast.quantifier||0!==ast.quantifier.atLeast)||!!ast.value&&(Object(utils.y)(ast.value)?Object(utils.o)(ast.value,isWholeOptional):isWholeOptional(ast.value))}var reg_exp_CharCodeFinder=function(_super){function CharCodeFinder(targetCharCodes){var _this=_super.call(this)||this;return _this.targetCharCodes=targetCharCodes,_this.found=!1,_this}return __extends(CharCodeFinder,_super),CharCodeFinder.prototype.visitChildren=function(node){if(!0!==this.found){switch(node.type){case"Lookahead":return void this.visitLookahead(node);case"NegativeLookahead":return void this.visitNegativeLookahead(node)}_super.prototype.visitChildren.call(this,node)}},CharCodeFinder.prototype.visitCharacter=function(node){Object(utils.j)(this.targetCharCodes,node.value)&&(this.found=!0)},CharCodeFinder.prototype.visitSet=function(node){node.complement?void 0===findCode(node,this.targetCharCodes)&&(this.found=!0):void 0!==findCode(node,this.targetCharCodes)&&(this.found=!0)},CharCodeFinder}(regexp_to_ast.BaseRegExpVisitor);function canMatchCharCode(charCodes,pattern){if(pattern instanceof RegExp){var ast=getRegExpAst(pattern),charCodeFinder=new reg_exp_CharCodeFinder(charCodes);return charCodeFinder.visit(ast),charCodeFinder.found}return void 0!==Object(utils.q)(pattern,(function(char){return Object(utils.j)(charCodes,char.charCodeAt(0))}))}var lexer_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PATTERN="PATTERN",SUPPORT_STICKY="boolean"==typeof new RegExp("(?:)").sticky;function analyzeTokenTypes(tokenTypes,options){var onlyRelevantTypes,tracer=(options=Object(utils.k)(options,{useSticky:SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(msg,action){return action()}})).tracer;tracer("initCharCodeToOptimizedIndexMap",(function(){!function initCharCodeToOptimizedIndexMap(){if(Object(utils.A)(charCodeToOptimizedIdxMap)){charCodeToOptimizedIdxMap=new Array(65536);for(var i=0;i<65536;i++)charCodeToOptimizedIdxMap[i]=i>255?255+~~(i/255):i}}()})),tracer("Reject Lexer.NA",(function(){onlyRelevantTypes=Object(utils.P)(tokenTypes,(function(currType){return currType[PATTERN]===lexer_public_Lexer.NA}))}));var allTransformedPatterns,patternIdxToType,patternIdxToGroup,patternIdxToLongerAltIdx,patternIdxToPushMode,patternIdxToPopMode,patternIdxToCanLineTerminator,patternIdxToIsCustom,patternIdxToShort,emptyGroups,patternIdxToConfig,hasCustom=!1;tracer("Transform Patterns",(function(){hasCustom=!1,allTransformedPatterns=Object(utils.I)(onlyRelevantTypes,(function(currType){var currPattern=currType[PATTERN];if(Object(utils.D)(currPattern)){var regExpSource=currPattern.source;return 1!==regExpSource.length||"^"===regExpSource||"$"===regExpSource||"."===regExpSource||currPattern.ignoreCase?2!==regExpSource.length||"\\"!==regExpSource[0]||Object(utils.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],regExpSource[1])?options.useSticky?addStickyFlag(currPattern):addStartOfInput(currPattern):regExpSource[1]:regExpSource}if(Object(utils.B)(currPattern))return hasCustom=!0,{exec:currPattern};if(Object(utils.w)(currPattern,"exec"))return hasCustom=!0,currPattern;if("string"==typeof currPattern){if(1===currPattern.length)return currPattern;var escapedRegExpString=currPattern.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),wrappedRegExp=new RegExp(escapedRegExpString);return options.useSticky?addStickyFlag(wrappedRegExp):addStartOfInput(wrappedRegExp)}throw Error("non exhaustive match")}))})),tracer("misc mapping",(function(){patternIdxToType=Object(utils.I)(onlyRelevantTypes,(function(currType){return currType.tokenTypeIdx})),patternIdxToGroup=Object(utils.I)(onlyRelevantTypes,(function(clazz){var groupName=clazz.GROUP;if(groupName!==lexer_public_Lexer.SKIPPED){if(Object(utils.E)(groupName))return groupName;if(Object(utils.F)(groupName))return!1;throw Error("non exhaustive match")}})),patternIdxToLongerAltIdx=Object(utils.I)(onlyRelevantTypes,(function(clazz){var longerAltType=clazz.LONGER_ALT;if(longerAltType)return Object(utils.x)(onlyRelevantTypes,longerAltType)})),patternIdxToPushMode=Object(utils.I)(onlyRelevantTypes,(function(clazz){return clazz.PUSH_MODE})),patternIdxToPopMode=Object(utils.I)(onlyRelevantTypes,(function(clazz){return Object(utils.w)(clazz,"POP_MODE")}))})),tracer("Line Terminator Handling",(function(){var lineTerminatorCharCodes=getCharCodes(options.lineTerminatorCharacters);patternIdxToCanLineTerminator=Object(utils.I)(onlyRelevantTypes,(function(tokType){return!1})),"onlyOffset"!==options.positionTracking&&(patternIdxToCanLineTerminator=Object(utils.I)(onlyRelevantTypes,(function(tokType){return Object(utils.w)(tokType,"LINE_BREAKS")?tokType.LINE_BREAKS:!1===checkLineBreaksIssues(tokType,lineTerminatorCharCodes)?canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN):void 0})))})),tracer("Misc Mapping #2",(function(){patternIdxToIsCustom=Object(utils.I)(onlyRelevantTypes,isCustomPattern),patternIdxToShort=Object(utils.I)(allTransformedPatterns,isShortPattern),emptyGroups=Object(utils.O)(onlyRelevantTypes,(function(acc,clazz){var groupName=clazz.GROUP;return Object(utils.E)(groupName)&&groupName!==lexer_public_Lexer.SKIPPED&&(acc[groupName]=[]),acc}),{}),patternIdxToConfig=Object(utils.I)(allTransformedPatterns,(function(x,idx){return{pattern:allTransformedPatterns[idx],longerAlt:patternIdxToLongerAltIdx[idx],canLineTerminator:patternIdxToCanLineTerminator[idx],isCustom:patternIdxToIsCustom[idx],short:patternIdxToShort[idx],group:patternIdxToGroup[idx],push:patternIdxToPushMode[idx],pop:patternIdxToPopMode[idx],tokenTypeIdx:patternIdxToType[idx],tokenType:onlyRelevantTypes[idx]}}))}));var canBeOptimized=!0,charCodeToPatternIdxToConfig=[];return options.safeMode||tracer("First Char Optimization",(function(){charCodeToPatternIdxToConfig=Object(utils.O)(onlyRelevantTypes,(function(result,currTokType,idx){if("string"==typeof currTokType.PATTERN){var optimizedIdx=charCodeToOptimizedIndex(currTokType.PATTERN.charCodeAt(0));addToMapOfArrays(result,optimizedIdx,patternIdxToConfig[idx])}else if(Object(utils.y)(currTokType.START_CHARS_HINT)){var lastOptimizedIdx_1;Object(utils.u)(currTokType.START_CHARS_HINT,(function(charOrInt){var currOptimizedIdx=charCodeToOptimizedIndex("string"==typeof charOrInt?charOrInt.charCodeAt(0):charOrInt);lastOptimizedIdx_1!==currOptimizedIdx&&(lastOptimizedIdx_1=currOptimizedIdx,addToMapOfArrays(result,currOptimizedIdx,patternIdxToConfig[idx]))}))}else if(Object(utils.D)(currTokType.PATTERN))if(currTokType.PATTERN.unicode)canBeOptimized=!1,options.ensureOptimizations&&Object(utils.c)(failedOptimizationPrefixMsg+"\tUnable to analyze < "+currTokType.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var optimizedCodes=getOptimizedStartCodesIndices(currTokType.PATTERN,options.ensureOptimizations);Object(utils.A)(optimizedCodes)&&(canBeOptimized=!1),Object(utils.u)(optimizedCodes,(function(code){addToMapOfArrays(result,code,patternIdxToConfig[idx])}))}else options.ensureOptimizations&&Object(utils.c)(failedOptimizationPrefixMsg+"\tTokenType: <"+currTokType.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),canBeOptimized=!1;return result}),[])})),tracer("ArrayPacking",(function(){charCodeToPatternIdxToConfig=Object(utils.L)(charCodeToPatternIdxToConfig)})),{emptyGroups:emptyGroups,patternIdxToConfig:patternIdxToConfig,charCodeToPatternIdxToConfig:charCodeToPatternIdxToConfig,hasCustom:hasCustom,canBeOptimized:canBeOptimized}}function validatePatterns(tokenTypes,validModesNames){var errors=[],missingResult=function findMissingPatterns(tokenTypes){var tokenTypesWithMissingPattern=Object(utils.p)(tokenTypes,(function(currType){return!Object(utils.w)(currType,PATTERN)})),errors=Object(utils.I)(tokenTypesWithMissingPattern,(function(currType){return{message:"Token Type: ->"+currType.name+"<- missing static 'PATTERN' property",type:LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[currType]}})),valid=Object(utils.l)(tokenTypes,tokenTypesWithMissingPattern);return{errors:errors,valid:valid}}(tokenTypes);errors=errors.concat(missingResult.errors);var invalidResult=function findInvalidPatterns(tokenTypes){var tokenTypesWithInvalidPattern=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return!(Object(utils.D)(pattern)||Object(utils.B)(pattern)||Object(utils.w)(pattern,"exec")||Object(utils.E)(pattern))})),errors=Object(utils.I)(tokenTypesWithInvalidPattern,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[currType]}})),valid=Object(utils.l)(tokenTypes,tokenTypesWithInvalidPattern);return{errors:errors,valid:valid}}(missingResult.valid),validTokenTypes=invalidResult.valid;return errors=(errors=(errors=(errors=(errors=errors.concat(invalidResult.errors)).concat(function validateRegExpPattern(tokenTypes){var errors=[],withRegExpPatterns=Object(utils.p)(tokenTypes,(function(currTokType){return Object(utils.D)(currTokType[PATTERN])}));return errors=(errors=(errors=(errors=(errors=errors.concat(function findEndOfInputAnchor(tokenTypes){var EndAnchorFinder=function(_super){function EndAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return lexer_extends(EndAnchorFinder,_super),EndAnchorFinder.prototype.visitEndAnchor=function(node){this.found=!0},EndAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),endAnchorVisitor=new EndAnchorFinder;return endAnchorVisitor.visit(regexpAst),endAnchorVisitor.found}catch(e){return end_of_input.test(pattern.source)}}));return Object(utils.I)(invalidRegex,(function(currType){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+currType.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function findStartOfInputAnchor(tokenTypes){var StartAnchorFinder=function(_super){function StartAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return lexer_extends(StartAnchorFinder,_super),StartAnchorFinder.prototype.visitStartAnchor=function(node){this.found=!0},StartAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),startAnchorVisitor=new StartAnchorFinder;return startAnchorVisitor.visit(regexpAst),startAnchorVisitor.found}catch(e){return start_of_input.test(pattern.source)}}));return Object(utils.I)(invalidRegex,(function(currType){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+currType.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function findUnsupportedFlags(tokenTypes){var invalidFlags=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return pattern instanceof RegExp&&(pattern.multiline||pattern.global)}));return Object(utils.I)(invalidFlags,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function findDuplicatePatterns(tokenTypes){var found=[],identicalPatterns=Object(utils.I)(tokenTypes,(function(outerType){return Object(utils.O)(tokenTypes,(function(result,innerType){return outerType.PATTERN.source!==innerType.PATTERN.source||Object(utils.j)(found,innerType)||innerType.PATTERN===lexer_public_Lexer.NA||(found.push(innerType),result.push(innerType)),result}),[])}));identicalPatterns=Object(utils.i)(identicalPatterns);var duplicatePatterns=Object(utils.p)(identicalPatterns,(function(currIdenticalSet){return currIdenticalSet.length>1}));return Object(utils.I)(duplicatePatterns,(function(setOfIdentical){var tokenTypeNames=Object(utils.I)(setOfIdentical,(function(currType){return currType.name}));return{message:"The same RegExp pattern ->"+Object(utils.s)(setOfIdentical).PATTERN+"<-has been used in all of the following Token Types: "+tokenTypeNames.join(", ")+" <-",type:LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:setOfIdentical}}))}(withRegExpPatterns))).concat(function findEmptyMatchRegExps(tokenTypes){var matchesEmptyString=Object(utils.p)(tokenTypes,(function(currType){return currType[PATTERN].test("")}));return Object(utils.I)(matchesEmptyString,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' must not match an empty string",type:LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[currType]}}))}(withRegExpPatterns))}(validTokenTypes))).concat(function findInvalidGroupType(tokenTypes){var invalidTypes=Object(utils.p)(tokenTypes,(function(clazz){if(!Object(utils.w)(clazz,"GROUP"))return!1;var group=clazz.GROUP;return group!==lexer_public_Lexer.SKIPPED&&group!==lexer_public_Lexer.NA&&!Object(utils.E)(group)}));return Object(utils.I)(invalidTypes,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[currType]}}))}(validTokenTypes))).concat(function findModesThatDoNotExist(tokenTypes,validModes){var invalidModes=Object(utils.p)(tokenTypes,(function(clazz){return void 0!==clazz.PUSH_MODE&&!Object(utils.j)(validModes,clazz.PUSH_MODE)}));return Object(utils.I)(invalidModes,(function(tokType){return{message:"Token Type: ->"+tokType.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+tokType.PUSH_MODE+"<-which does not exist",type:LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[tokType]}}))}(validTokenTypes,validModesNames))).concat(function findUnreachablePatterns(tokenTypes){var errors=[],canBeTested=Object(utils.O)(tokenTypes,(function(result,tokType,idx){var pattern=tokType.PATTERN;return pattern===lexer_public_Lexer.NA||(Object(utils.E)(pattern)?result.push({str:pattern,idx:idx,tokenType:tokType}):Object(utils.D)(pattern)&&function noMetaChar(regExp){return void 0===Object(utils.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(char){return-1!==regExp.source.indexOf(char)}))}(pattern)&&result.push({str:pattern.source,idx:idx,tokenType:tokType})),result}),[]);return Object(utils.u)(tokenTypes,(function(tokType,testIdx){Object(utils.u)(canBeTested,(function(_a){var str=_a.str,idx=_a.idx,tokenType=_a.tokenType;if(testIdx<idx&&function testTokenType(str,pattern){if(Object(utils.D)(pattern)){var regExpArray=pattern.exec(str);return null!==regExpArray&&0===regExpArray.index}if(Object(utils.B)(pattern))return pattern(str,0,[],{});if(Object(utils.w)(pattern,"exec"))return pattern.exec(str,0,[],{});if("string"==typeof pattern)return pattern===str;throw Error("non exhaustive match")}(str,tokType.PATTERN)){var msg="Token: ->"+tokenType.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+tokType.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";errors.push({message:msg,type:LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[tokType,tokenType]})}}))})),errors}(validTokenTypes))}var end_of_input=/[^\\][\$]/;var start_of_input=/[^\\[][\^]|^\^/;function addStartOfInput(pattern){var flags=pattern.ignoreCase?"i":"";return new RegExp("^(?:"+pattern.source+")",flags)}function addStickyFlag(pattern){var flags=pattern.ignoreCase?"iy":"y";return new RegExp(""+pattern.source,flags)}function performWarningRuntimeChecks(lexerDefinition,trackLines,lineTerminatorCharacters){var warnings=[],hasAnyLineBreak=!1,allTokenTypes=Object(utils.i)(Object(utils.t)(Object(utils.J)(lexerDefinition.modes,(function(tokTypes){return tokTypes})))),concreteTokenTypes=Object(utils.P)(allTokenTypes,(function(currType){return currType[PATTERN]===lexer_public_Lexer.NA})),terminatorCharCodes=getCharCodes(lineTerminatorCharacters);return trackLines&&Object(utils.u)(concreteTokenTypes,(function(tokType){var currIssue=checkLineBreaksIssues(tokType,terminatorCharCodes);if(!1!==currIssue){var warningDescriptor={message:function buildLineBreakIssueMessage(tokType,details){if(details.issue===LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+tokType.name+"> Token Type\n\t Root cause: "+details.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(details.issue===LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+tokType.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(tokType,currIssue),type:currIssue.issue,tokenType:tokType};warnings.push(warningDescriptor)}else Object(utils.w)(tokType,"LINE_BREAKS")?!0===tokType.LINE_BREAKS&&(hasAnyLineBreak=!0):canMatchCharCode(terminatorCharCodes,tokType.PATTERN)&&(hasAnyLineBreak=!0)})),trackLines&&!hasAnyLineBreak&&warnings.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),warnings}function isCustomPattern(tokenType){var pattern=tokenType.PATTERN;if(Object(utils.D)(pattern))return!1;if(Object(utils.B)(pattern))return!0;if(Object(utils.w)(pattern,"exec"))return!0;if(Object(utils.E)(pattern))return!1;throw Error("non exhaustive match")}function isShortPattern(pattern){return!(!Object(utils.E)(pattern)||1!==pattern.length)&&pattern.charCodeAt(0)}var LineTerminatorOptimizedTester={test:function(text){for(var len=text.length,i=this.lastIndex;i<len;i++){var c=text.charCodeAt(i);if(10===c)return this.lastIndex=i+1,!0;if(13===c)return 10===text.charCodeAt(i+1)?this.lastIndex=i+2:this.lastIndex=i+1,!0}return!1},lastIndex:0};function checkLineBreaksIssues(tokType,lineTerminatorCharCodes){if(Object(utils.w)(tokType,"LINE_BREAKS"))return!1;if(Object(utils.D)(tokType.PATTERN)){try{canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN)}catch(e){return{issue:LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Object(utils.E)(tokType.PATTERN))return!1;if(isCustomPattern(tokType))return{issue:LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function getCharCodes(charsOrCodes){return Object(utils.I)(charsOrCodes,(function(numOrString){return Object(utils.E)(numOrString)&&numOrString.length>0?numOrString.charCodeAt(0):numOrString}))}function addToMapOfArrays(map,key,value){void 0===map[key]?map[key]=[value]:map[key].push(value)}var minOptimizationVal=256;function charCodeToOptimizedIndex(charCode){return charCode<minOptimizationVal?charCode:charCodeToOptimizedIdxMap[charCode]}var charCodeToOptimizedIdxMap=[];function tokenStructuredMatcher(tokInstance,tokConstructor){var instanceType=tokInstance.tokenTypeIdx;return instanceType===tokConstructor.tokenTypeIdx||!0===tokConstructor.isParent&&!0===tokConstructor.categoryMatchesMap[instanceType]}function tokenStructuredMatcherNoCategories(token,tokType){return token.tokenTypeIdx===tokType.tokenTypeIdx}var tokenShortNameIdx=1,tokenIdxToClass={};function augmentTokenTypes(tokenTypes){var tokenTypesAndParents=function expandCategories(tokenTypes){var result=Object(utils.g)(tokenTypes),categories=tokenTypes,searching=!0;for(;searching;){categories=Object(utils.i)(Object(utils.t)(Object(utils.I)(categories,(function(currTokType){return currTokType.CATEGORIES}))));var newCategories=Object(utils.l)(categories,result);result=result.concat(newCategories),Object(utils.A)(newCategories)?searching=!1:categories=newCategories}return result}(tokenTypes);!function assignTokenDefaultProps(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){hasShortKeyProperty(currTokType)||(tokenIdxToClass[tokenShortNameIdx]=currTokType,currTokType.tokenTypeIdx=tokenShortNameIdx++),hasCategoriesProperty(currTokType)&&!Object(utils.y)(currTokType.CATEGORIES)&&(currTokType.CATEGORIES=[currTokType.CATEGORIES]),hasCategoriesProperty(currTokType)||(currTokType.CATEGORIES=[]),function hasExtendingTokensTypesProperty(tokType){return Object(utils.w)(tokType,"categoryMatches")}(currTokType)||(currTokType.categoryMatches=[]),function hasExtendingTokensTypesMapProperty(tokType){return Object(utils.w)(tokType,"categoryMatchesMap")}(currTokType)||(currTokType.categoryMatchesMap={})}))}(tokenTypesAndParents),function assignCategoriesMapProp(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){!function singleAssignCategoriesToksMap(path,nextNode){Object(utils.u)(path,(function(pathNode){nextNode.categoryMatchesMap[pathNode.tokenTypeIdx]=!0})),Object(utils.u)(nextNode.CATEGORIES,(function(nextCategory){var newPath=path.concat(nextNode);Object(utils.j)(newPath,nextCategory)||singleAssignCategoriesToksMap(newPath,nextCategory)}))}([],currTokType)}))}(tokenTypesAndParents),function assignCategoriesTokensProp(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){currTokType.categoryMatches=[],Object(utils.u)(currTokType.categoryMatchesMap,(function(val,key){currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx)}))}))}(tokenTypesAndParents),Object(utils.u)(tokenTypesAndParents,(function(tokType){tokType.isParent=tokType.categoryMatches.length>0}))}function hasShortKeyProperty(tokType){return Object(utils.w)(tokType,"tokenTypeIdx")}function hasCategoriesProperty(tokType){return Object(utils.w)(tokType,"CATEGORIES")}function isTokenType(tokType){return Object(utils.w)(tokType,"tokenTypeIdx")}var LexerDefinitionErrorType,defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(token){return"Unable to pop Lexer Mode after encountering Token ->"+token.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(fullText,startOffset,length,line,column){return"unexpected character: ->"+fullText.charAt(startOffset)+"<- at offset: "+startOffset+", skipped "+length+" characters."}};!function(LexerDefinitionErrorType){LexerDefinitionErrorType[LexerDefinitionErrorType.MISSING_PATTERN=0]="MISSING_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_PATTERN=1]="INVALID_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",LexerDefinitionErrorType[LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",LexerDefinitionErrorType[LexerDefinitionErrorType.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",LexerDefinitionErrorType[LexerDefinitionErrorType.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",LexerDefinitionErrorType[LexerDefinitionErrorType.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(LexerDefinitionErrorType||(LexerDefinitionErrorType={}));var DEFAULT_LEXER_CONFIG={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(DEFAULT_LEXER_CONFIG);var lexer_public_Lexer=function(){function Lexer(lexerDefinition,config){var _this=this;if(void 0===config&&(config=DEFAULT_LEXER_CONFIG),this.lexerDefinition=lexerDefinition,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof config)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(utils.K)(DEFAULT_LEXER_CONFIG,config);var traceInitVal=this.config.traceInitPerf;!0===traceInitVal?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof traceInitVal&&(this.traceInitMaxIdent=traceInitVal,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var actualDefinition,hasOnlySingleMode=!0;_this.TRACE_INIT("Lexer Config handling",(function(){if(_this.config.lineTerminatorsPattern===DEFAULT_LEXER_CONFIG.lineTerminatorsPattern)_this.config.lineTerminatorsPattern=LineTerminatorOptimizedTester;else if(_this.config.lineTerminatorCharacters===DEFAULT_LEXER_CONFIG.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(config.safeMode&&config.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');_this.trackStartLines=/full|onlyStart/i.test(_this.config.positionTracking),_this.trackEndLines=/full/i.test(_this.config.positionTracking),Object(utils.y)(lexerDefinition)?((actualDefinition={modes:{}}).modes.defaultMode=Object(utils.g)(lexerDefinition),actualDefinition.defaultMode="defaultMode"):(hasOnlySingleMode=!1,actualDefinition=Object(utils.h)(lexerDefinition))})),!1===_this.config.skipValidations&&(_this.TRACE_INIT("performRuntimeChecks",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(function performRuntimeChecks(lexerDefinition,trackLines,lineTerminatorCharacters){var errors=[];return Object(utils.w)(lexerDefinition,"defaultMode")||errors.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(utils.w)(lexerDefinition,"modes")||errors.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(utils.w)(lexerDefinition,"modes")&&Object(utils.w)(lexerDefinition,"defaultMode")&&!Object(utils.w)(lexerDefinition.modes,lexerDefinition.defaultMode)&&errors.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+lexerDefinition.defaultMode+">which does not exist\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(utils.w)(lexerDefinition,"modes")&&Object(utils.u)(lexerDefinition.modes,(function(currModeValue,currModeName){Object(utils.u)(currModeValue,(function(currTokType,currIdx){Object(utils.F)(currTokType)&&errors.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+currModeName+"> at index: <"+currIdx+">\n",type:LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),errors}(actualDefinition,_this.trackStartLines,_this.config.lineTerminatorCharacters))})),_this.TRACE_INIT("performWarningRuntimeChecks",(function(){_this.lexerDefinitionWarning=_this.lexerDefinitionWarning.concat(performWarningRuntimeChecks(actualDefinition,_this.trackStartLines,_this.config.lineTerminatorCharacters))}))),actualDefinition.modes=actualDefinition.modes?actualDefinition.modes:{},Object(utils.u)(actualDefinition.modes,(function(currModeValue,currModeName){actualDefinition.modes[currModeName]=Object(utils.P)(currModeValue,(function(currTokType){return Object(utils.F)(currTokType)}))}));var allModeNames=Object(utils.G)(actualDefinition.modes);if(Object(utils.u)(actualDefinition.modes,(function(currModDef,currModName){_this.TRACE_INIT("Mode: <"+currModName+"> processing",(function(){var currAnalyzeResult_1;(_this.modes.push(currModName),!1===_this.config.skipValidations&&_this.TRACE_INIT("validatePatterns",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(validatePatterns(currModDef,allModeNames))})),Object(utils.A)(_this.lexerDefinitionErrors))&&(augmentTokenTypes(currModDef),_this.TRACE_INIT("analyzeTokenTypes",(function(){currAnalyzeResult_1=analyzeTokenTypes(currModDef,{lineTerminatorCharacters:_this.config.lineTerminatorCharacters,positionTracking:config.positionTracking,ensureOptimizations:config.ensureOptimizations,safeMode:config.safeMode,tracer:_this.TRACE_INIT.bind(_this)})})),_this.patternIdxToConfig[currModName]=currAnalyzeResult_1.patternIdxToConfig,_this.charCodeToPatternIdxToConfig[currModName]=currAnalyzeResult_1.charCodeToPatternIdxToConfig,_this.emptyGroups=Object(utils.K)(_this.emptyGroups,currAnalyzeResult_1.emptyGroups),_this.hasCustom=currAnalyzeResult_1.hasCustom||_this.hasCustom,_this.canModeBeOptimized[currModName]=currAnalyzeResult_1.canBeOptimized)}))})),_this.defaultMode=actualDefinition.defaultMode,!Object(utils.A)(_this.lexerDefinitionErrors)&&!_this.config.deferDefinitionErrorsHandling){var allErrMessagesString=Object(utils.I)(_this.lexerDefinitionErrors,(function(error){return error.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+allErrMessagesString)}Object(utils.u)(_this.lexerDefinitionWarning,(function(warningDescriptor){Object(utils.d)(warningDescriptor.message)})),_this.TRACE_INIT("Choosing sub-methods implementations",(function(){if(SUPPORT_STICKY?(_this.chopInput=utils.a,_this.match=_this.matchWithTest):(_this.updateLastIndex=utils.b,_this.match=_this.matchWithExec),hasOnlySingleMode&&(_this.handleModes=utils.b),!1===_this.trackStartLines&&(_this.computeNewColumn=utils.a),!1===_this.trackEndLines&&(_this.updateTokenEndLineColumnLocation=utils.b),/full/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createFullToken;else if(/onlyStart/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createStartOnlyToken;else{if(!/onlyOffset/i.test(_this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+_this.config.positionTracking+'"');_this.createTokenInstance=_this.createOffsetOnlyToken}_this.hasCustom?(_this.addToken=_this.addTokenUsingPush,_this.handlePayload=_this.handlePayloadWithCustom):(_this.addToken=_this.addTokenUsingMemberAccess,_this.handlePayload=_this.handlePayloadNoCustom)})),_this.TRACE_INIT("Failed Optimization Warnings",(function(){var unOptimizedModes=Object(utils.O)(_this.canModeBeOptimized,(function(cannotBeOptimized,canBeOptimized,modeName){return!1===canBeOptimized&&cannotBeOptimized.push(modeName),cannotBeOptimized}),[]);if(config.ensureOptimizations&&!Object(utils.A)(unOptimizedModes))throw Error("Lexer Modes: < "+unOptimizedModes.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),_this.TRACE_INIT("clearRegExpParserCache",(function(){!function clearRegExpParserCache(){regExpAstCache={}}()})),_this.TRACE_INIT("toFastProperties",(function(){Object(utils.S)(_this)}))}))}return Lexer.prototype.tokenize=function(text,initialMode){if(void 0===initialMode&&(initialMode=this.defaultMode),!Object(utils.A)(this.lexerDefinitionErrors)){var allErrMessagesString=Object(utils.I)(this.lexerDefinitionErrors,(function(error){return error.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+allErrMessagesString)}return this.tokenizeInternal(text,initialMode)},Lexer.prototype.tokenizeInternal=function(text,initialMode){var i,j,matchAltImage,longerAltIdx,matchedImage,payload,altPayload,imageLength,group,tokType,newToken,errLength,msg,match,_this=this,orgText=text,orgLength=orgText.length,offset=0,matchedTokensIndex=0,guessedNumberOfTokens=this.hasCustom?0:Math.floor(text.length/10),matchedTokens=new Array(guessedNumberOfTokens),errors=[],line=this.trackStartLines?1:void 0,column=this.trackStartLines?1:void 0,groups=function cloneEmptyGroups(emptyGroups){var clonedResult={},groupKeys=Object(utils.G)(emptyGroups);return Object(utils.u)(groupKeys,(function(currKey){var currGroupValue=emptyGroups[currKey];if(!Object(utils.y)(currGroupValue))throw Error("non exhaustive match");clonedResult[currKey]=[]})),clonedResult}(this.emptyGroups),trackLines=this.trackStartLines,lineTerminatorPattern=this.config.lineTerminatorsPattern,currModePatternsLength=0,patternIdxToConfig=[],currCharCodeToPatternIdxToConfig=[],modeStack=[],emptyArray=[];Object.freeze(emptyArray);var getPossiblePatterns=void 0;function getPossiblePatternsSlow(){return patternIdxToConfig}function getPossiblePatternsOptimized(charCode){var optimizedCharIdx=charCodeToOptimizedIndex(charCode),possiblePatterns=currCharCodeToPatternIdxToConfig[optimizedCharIdx];return void 0===possiblePatterns?emptyArray:possiblePatterns}var currConfig,pop_mode=function(popToken){if(1===modeStack.length&&void 0===popToken.tokenType.PUSH_MODE){var msg_1=_this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);errors.push({offset:popToken.startOffset,line:void 0!==popToken.startLine?popToken.startLine:void 0,column:void 0!==popToken.startColumn?popToken.startColumn:void 0,length:popToken.image.length,message:msg_1})}else{modeStack.pop();var newMode=Object(utils.H)(modeStack);patternIdxToConfig=_this.patternIdxToConfig[newMode],currCharCodeToPatternIdxToConfig=_this.charCodeToPatternIdxToConfig[newMode],currModePatternsLength=patternIdxToConfig.length;var modeCanBeOptimized=_this.canModeBeOptimized[newMode]&&!1===_this.config.safeMode;getPossiblePatterns=currCharCodeToPatternIdxToConfig&&modeCanBeOptimized?getPossiblePatternsOptimized:getPossiblePatternsSlow}};function push_mode(newMode){modeStack.push(newMode),currCharCodeToPatternIdxToConfig=this.charCodeToPatternIdxToConfig[newMode],patternIdxToConfig=this.patternIdxToConfig[newMode],currModePatternsLength=patternIdxToConfig.length,currModePatternsLength=patternIdxToConfig.length;var modeCanBeOptimized=this.canModeBeOptimized[newMode]&&!1===this.config.safeMode;getPossiblePatterns=currCharCodeToPatternIdxToConfig&&modeCanBeOptimized?getPossiblePatternsOptimized:getPossiblePatternsSlow}for(push_mode.call(this,initialMode);offset<orgLength;){matchedImage=null;var nextCharCode=orgText.charCodeAt(offset),chosenPatternIdxToConfig=getPossiblePatterns(nextCharCode),chosenPatternsLength=chosenPatternIdxToConfig.length;for(i=0;i<chosenPatternsLength;i++){var currPattern=(currConfig=chosenPatternIdxToConfig[i]).pattern;if(payload=null,!1!==(singleCharCode=currConfig.short)?nextCharCode===singleCharCode&&(matchedImage=currPattern):!0===currConfig.isCustom?null!==(match=currPattern.exec(orgText,offset,matchedTokens,groups))?(matchedImage=match[0],void 0!==match.payload&&(payload=match.payload)):matchedImage=null:(this.updateLastIndex(currPattern,offset),matchedImage=this.match(currPattern,text,offset)),null!==matchedImage){if(void 0!==(longerAltIdx=currConfig.longerAlt)){var longerAltConfig=patternIdxToConfig[longerAltIdx],longerAltPattern=longerAltConfig.pattern;altPayload=null,!0===longerAltConfig.isCustom?null!==(match=longerAltPattern.exec(orgText,offset,matchedTokens,groups))?(matchAltImage=match[0],void 0!==match.payload&&(altPayload=match.payload)):matchAltImage=null:(this.updateLastIndex(longerAltPattern,offset),matchAltImage=this.match(longerAltPattern,text,offset)),matchAltImage&&matchAltImage.length>matchedImage.length&&(matchedImage=matchAltImage,payload=altPayload,currConfig=longerAltConfig)}break}}if(null!==matchedImage){if(imageLength=matchedImage.length,void 0!==(group=currConfig.group)&&(tokType=currConfig.tokenTypeIdx,newToken=this.createTokenInstance(matchedImage,offset,tokType,currConfig.tokenType,line,column,imageLength),this.handlePayload(newToken,payload),!1===group?matchedTokensIndex=this.addToken(matchedTokens,matchedTokensIndex,newToken):groups[group].push(newToken)),text=this.chopInput(text,imageLength),offset+=imageLength,column=this.computeNewColumn(column,imageLength),!0===trackLines&&!0===currConfig.canLineTerminator){var numOfLTsInMatch=0,foundTerminator=void 0,lastLTEndOffset=void 0;lineTerminatorPattern.lastIndex=0;do{!0===(foundTerminator=lineTerminatorPattern.test(matchedImage))&&(lastLTEndOffset=lineTerminatorPattern.lastIndex-1,numOfLTsInMatch++)}while(!0===foundTerminator);0!==numOfLTsInMatch&&(line+=numOfLTsInMatch,column=imageLength-lastLTEndOffset,this.updateTokenEndLineColumnLocation(newToken,group,lastLTEndOffset,numOfLTsInMatch,line,column,imageLength))}this.handleModes(currConfig,pop_mode,push_mode,newToken)}else{for(var errorStartOffset=offset,errorLine=line,errorColumn=column,foundResyncPoint=!1;!foundResyncPoint&&offset<orgLength;)for(orgText.charCodeAt(offset),text=this.chopInput(text,1),offset++,j=0;j<currModePatternsLength;j++){var singleCharCode,currConfig_1=patternIdxToConfig[j];currPattern=currConfig_1.pattern;if(!1!==(singleCharCode=currConfig_1.short)?orgText.charCodeAt(offset)===singleCharCode&&(foundResyncPoint=!0):!0===currConfig_1.isCustom?foundResyncPoint=null!==currPattern.exec(orgText,offset,matchedTokens,groups):(this.updateLastIndex(currPattern,offset),foundResyncPoint=null!==currPattern.exec(text)),!0===foundResyncPoint)break}errLength=offset-errorStartOffset,msg=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText,errorStartOffset,errLength,errorLine,errorColumn),errors.push({offset:errorStartOffset,line:errorLine,column:errorColumn,length:errLength,message:msg})}}return this.hasCustom||(matchedTokens.length=matchedTokensIndex),{tokens:matchedTokens,groups:groups,errors:errors}},Lexer.prototype.handleModes=function(config,pop_mode,push_mode,newToken){if(!0===config.pop){var pushMode=config.push;pop_mode(newToken),void 0!==pushMode&&push_mode.call(this,pushMode)}else void 0!==config.push&&push_mode.call(this,config.push)},Lexer.prototype.chopInput=function(text,length){return text.substring(length)},Lexer.prototype.updateLastIndex=function(regExp,newLastIndex){regExp.lastIndex=newLastIndex},Lexer.prototype.updateTokenEndLineColumnLocation=function(newToken,group,lastLTIdx,numOfLTsInMatch,line,column,imageLength){var lastCharIsLT,fixForEndingInLT;void 0!==group&&(fixForEndingInLT=(lastCharIsLT=lastLTIdx===imageLength-1)?-1:0,1===numOfLTsInMatch&&!0===lastCharIsLT||(newToken.endLine=line+fixForEndingInLT,newToken.endColumn=column-1-fixForEndingInLT))},Lexer.prototype.computeNewColumn=function(oldColumn,imageLength){return oldColumn+imageLength},Lexer.prototype.createTokenInstance=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null},Lexer.prototype.createOffsetOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType){return{image:image,startOffset:startOffset,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.createStartOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn){return{image:image,startOffset:startOffset,startLine:startLine,startColumn:startColumn,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.createFullToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn,imageLength){return{image:image,startOffset:startOffset,endOffset:startOffset+imageLength-1,startLine:startLine,endLine:startLine,startColumn:startColumn,endColumn:startColumn+imageLength-1,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.addToken=function(tokenVector,index,tokenToAdd){return 666},Lexer.prototype.addTokenUsingPush=function(tokenVector,index,tokenToAdd){return tokenVector.push(tokenToAdd),index},Lexer.prototype.addTokenUsingMemberAccess=function(tokenVector,index,tokenToAdd){return tokenVector[index]=tokenToAdd,++index},Lexer.prototype.handlePayload=function(token,payload){},Lexer.prototype.handlePayloadNoCustom=function(token,payload){},Lexer.prototype.handlePayloadWithCustom=function(token,payload){null!==payload&&(token.payload=payload)},Lexer.prototype.match=function(pattern,text,offset){return null},Lexer.prototype.matchWithTest=function(pattern,text,offset){return!0===pattern.test(text)?text.substring(offset,pattern.lastIndex):null},Lexer.prototype.matchWithExec=function(pattern,text){var regExpArray=pattern.exec(text);return null!==regExpArray?regExpArray[0]:regExpArray},Lexer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+"--\x3e <"+phaseDesc+">");var _a=Object(utils.R)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+"<-- <"+phaseDesc+"> time: "+time+"ms"),this.traceInitIndent--,value}return phaseImpl()},Lexer.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Lexer.NA=/NOT_APPLICABLE/,Lexer}();function tokenLabel(tokType){return hasTokenLabel(tokType)?tokType.LABEL:tokType.name}function tokenName(tokType){return tokType.name}function hasTokenLabel(obj){return Object(utils.E)(obj.LABEL)&&""!==obj.LABEL}function createToken(config){return function createTokenInternal(config){var pattern=config.pattern,tokenType={};tokenType.name=config.name,Object(utils.F)(pattern)||(tokenType.PATTERN=pattern);if(Object(utils.w)(config,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(utils.w)(config,"categories")&&(tokenType.CATEGORIES=config.categories);augmentTokenTypes([tokenType]),Object(utils.w)(config,"label")&&(tokenType.LABEL=config.label);Object(utils.w)(config,"group")&&(tokenType.GROUP=config.group);Object(utils.w)(config,"pop_mode")&&(tokenType.POP_MODE=config.pop_mode);Object(utils.w)(config,"push_mode")&&(tokenType.PUSH_MODE=config.push_mode);Object(utils.w)(config,"longer_alt")&&(tokenType.LONGER_ALT=config.longer_alt);Object(utils.w)(config,"line_breaks")&&(tokenType.LINE_BREAKS=config.line_breaks);Object(utils.w)(config,"start_chars_hint")&&(tokenType.START_CHARS_HINT=config.start_chars_hint);return tokenType}(config)}var EOF=createToken({name:"EOF",pattern:lexer_public_Lexer.NA});function createTokenInstance(tokType,image,startOffset,endOffset,startLine,endLine,startColumn,endColumn){return{image:image,startOffset:startOffset,endOffset:endOffset,startLine:startLine,endLine:endLine,startColumn:startColumn,endColumn:endColumn,tokenTypeIdx:tokType.tokenTypeIdx,tokenType:tokType}}function tokens_public_tokenMatcher(token,tokType){return tokenStructuredMatcher(token,tokType)}augmentTokenTypes([EOF]);var gast_public_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),gast_public_AbstractProduction=function(){function AbstractProduction(definition){this.definition=definition}return AbstractProduction.prototype.accept=function(visitor){visitor.visit(this),Object(utils.u)(this.definition,(function(prod){prod.accept(visitor)}))},AbstractProduction}(),gast_public_NonTerminal=function(_super){function NonTerminal(options){var _this=_super.call(this,[])||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(NonTerminal,_super),Object.defineProperty(NonTerminal.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(definition){},enumerable:!0,configurable:!0}),NonTerminal.prototype.accept=function(visitor){visitor.visit(this)},NonTerminal}(gast_public_AbstractProduction),gast_public_Rule=function(_super){function Rule(options){var _this=_super.call(this,options.definition)||this;return _this.orgText="",Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Rule,_super),Rule}(gast_public_AbstractProduction),gast_public_Alternative=function(_super){function Alternative(options){var _this=_super.call(this,options.definition)||this;return _this.ignoreAmbiguities=!1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Alternative,_super),Alternative}(gast_public_AbstractProduction),gast_public_Option=function(_super){function Option(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Option,_super),Option}(gast_public_AbstractProduction),gast_public_RepetitionMandatory=function(_super){function RepetitionMandatory(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionMandatory,_super),RepetitionMandatory}(gast_public_AbstractProduction),gast_public_RepetitionMandatoryWithSeparator=function(_super){function RepetitionMandatoryWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionMandatoryWithSeparator,_super),RepetitionMandatoryWithSeparator}(gast_public_AbstractProduction),gast_public_Repetition=function(_super){function Repetition(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Repetition,_super),Repetition}(gast_public_AbstractProduction),gast_public_RepetitionWithSeparator=function(_super){function RepetitionWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionWithSeparator,_super),RepetitionWithSeparator}(gast_public_AbstractProduction),gast_public_Alternation=function(_super){function Alternation(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,_this.ignoreAmbiguities=!1,_this.hasPredicates=!1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Alternation,_super),Alternation}(gast_public_AbstractProduction),gast_public_Terminal=function(){function Terminal(options){this.idx=1,Object(utils.f)(this,Object(utils.N)(options,(function(v){return void 0!==v})))}return Terminal.prototype.accept=function(visitor){visitor.visit(this)},Terminal}();function serializeGrammar(topRules){return Object(utils.I)(topRules,serializeProduction)}function serializeProduction(node){function convertDefinition(definition){return Object(utils.I)(definition,serializeProduction)}if(node instanceof gast_public_NonTerminal)return{type:"NonTerminal",name:node.nonTerminalName,idx:node.idx};if(node instanceof gast_public_Alternative)return{type:"Alternative",definition:convertDefinition(node.definition)};if(node instanceof gast_public_Option)return{type:"Option",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionMandatory)return{type:"RepetitionMandatory",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionMandatoryWithSeparator)return{type:"RepetitionMandatoryWithSeparator",idx:node.idx,separator:serializeProduction(new gast_public_Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionWithSeparator)return{type:"RepetitionWithSeparator",idx:node.idx,separator:serializeProduction(new gast_public_Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof gast_public_Repetition)return{type:"Repetition",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_Alternation)return{type:"Alternation",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_Terminal){var serializedTerminal={type:"Terminal",name:node.terminalType.name,label:tokenLabel(node.terminalType),idx:node.idx},pattern=node.terminalType.PATTERN;return node.terminalType.PATTERN&&(serializedTerminal.pattern=Object(utils.D)(pattern)?pattern.source:pattern),serializedTerminal}if(node instanceof gast_public_Rule)return{type:"Rule",name:node.name,orgText:node.orgText,definition:convertDefinition(node.definition)};throw Error("non exhaustive match")}var rest_RestWalker=function(){function RestWalker(){}return RestWalker.prototype.walk=function(prod,prevRest){var _this=this;void 0===prevRest&&(prevRest=[]),Object(utils.u)(prod.definition,(function(subProd,index){var currRest=Object(utils.m)(prod.definition,index+1);if(subProd instanceof gast_public_NonTerminal)_this.walkProdRef(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Terminal)_this.walkTerminal(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Alternative)_this.walkFlat(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Option)_this.walkOption(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionMandatory)_this.walkAtLeastOne(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionMandatoryWithSeparator)_this.walkAtLeastOneSep(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionWithSeparator)_this.walkManySep(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Repetition)_this.walkMany(subProd,currRest,prevRest);else{if(!(subProd instanceof gast_public_Alternation))throw Error("non exhaustive match");_this.walkOr(subProd,currRest,prevRest)}}))},RestWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},RestWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){},RestWalker.prototype.walkFlat=function(flatProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(flatProd,fullOrRest)},RestWalker.prototype.walkOption=function(optionProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(optionProd,fullOrRest)},RestWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){var fullAtLeastOneRest=[new gast_public_Option({definition:atLeastOneProd.definition})].concat(currRest,prevRest);this.walk(atLeastOneProd,fullAtLeastOneRest)},RestWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){var fullAtLeastOneSepRest=restForRepetitionWithSeparator(atLeastOneSepProd,currRest,prevRest);this.walk(atLeastOneSepProd,fullAtLeastOneSepRest)},RestWalker.prototype.walkMany=function(manyProd,currRest,prevRest){var fullManyRest=[new gast_public_Option({definition:manyProd.definition})].concat(currRest,prevRest);this.walk(manyProd,fullManyRest)},RestWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){var fullManySepRest=restForRepetitionWithSeparator(manySepProd,currRest,prevRest);this.walk(manySepProd,fullManySepRest)},RestWalker.prototype.walkOr=function(orProd,currRest,prevRest){var _this=this,fullOrRest=currRest.concat(prevRest);Object(utils.u)(orProd.definition,(function(alt){var prodWrapper=new gast_public_Alternative({definition:[alt]});_this.walk(prodWrapper,fullOrRest)}))},RestWalker}();function restForRepetitionWithSeparator(repSepProd,currRest,prevRest){return[new gast_public_Option({definition:[new gast_public_Terminal({terminalType:repSepProd.separator})].concat(repSepProd.definition)})].concat(currRest,prevRest)}var gast_visitor_public_GAstVisitor=function(){function GAstVisitor(){}return GAstVisitor.prototype.visit=function(node){var nodeAny=node;switch(nodeAny.constructor){case gast_public_NonTerminal:return this.visitNonTerminal(nodeAny);case gast_public_Alternative:return this.visitAlternative(nodeAny);case gast_public_Option:return this.visitOption(nodeAny);case gast_public_RepetitionMandatory:return this.visitRepetitionMandatory(nodeAny);case gast_public_RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(nodeAny);case gast_public_RepetitionWithSeparator:return this.visitRepetitionWithSeparator(nodeAny);case gast_public_Repetition:return this.visitRepetition(nodeAny);case gast_public_Alternation:return this.visitAlternation(nodeAny);case gast_public_Terminal:return this.visitTerminal(nodeAny);case gast_public_Rule:return this.visitRule(nodeAny);default:throw Error("non exhaustive match")}},GAstVisitor.prototype.visitNonTerminal=function(node){},GAstVisitor.prototype.visitAlternative=function(node){},GAstVisitor.prototype.visitOption=function(node){},GAstVisitor.prototype.visitRepetition=function(node){},GAstVisitor.prototype.visitRepetitionMandatory=function(node){},GAstVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){},GAstVisitor.prototype.visitRepetitionWithSeparator=function(node){},GAstVisitor.prototype.visitAlternation=function(node){},GAstVisitor.prototype.visitTerminal=function(node){},GAstVisitor.prototype.visitRule=function(node){},GAstVisitor}(),gast_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();function isOptionalProd(prod,alreadyVisited){return void 0===alreadyVisited&&(alreadyVisited=[]),!!(prod instanceof gast_public_Option||prod instanceof gast_public_Repetition||prod instanceof gast_public_RepetitionWithSeparator)||(prod instanceof gast_public_Alternation?Object(utils.Q)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)})):!(prod instanceof gast_public_NonTerminal&&Object(utils.j)(alreadyVisited,prod))&&(prod instanceof gast_public_AbstractProduction&&(prod instanceof gast_public_NonTerminal&&alreadyVisited.push(prod),Object(utils.o)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)})))))}function getProductionDslName(prod){if(prod instanceof gast_public_NonTerminal)return"SUBRULE";if(prod instanceof gast_public_Option)return"OPTION";if(prod instanceof gast_public_Alternation)return"OR";if(prod instanceof gast_public_RepetitionMandatory)return"AT_LEAST_ONE";if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(prod instanceof gast_public_RepetitionWithSeparator)return"MANY_SEP";if(prod instanceof gast_public_Repetition)return"MANY";if(prod instanceof gast_public_Terminal)return"CONSUME";throw Error("non exhaustive match")}var gast_DslMethodsCollectorVisitor=function(_super){function DslMethodsCollectorVisitor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.separator="-",_this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},_this}return gast_extends(DslMethodsCollectorVisitor,_super),DslMethodsCollectorVisitor.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},DslMethodsCollectorVisitor.prototype.visitTerminal=function(terminal){var key=terminal.terminalType.name+this.separator+"Terminal";Object(utils.w)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(terminal)},DslMethodsCollectorVisitor.prototype.visitNonTerminal=function(subrule){var key=subrule.nonTerminalName+this.separator+"Terminal";Object(utils.w)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(subrule)},DslMethodsCollectorVisitor.prototype.visitOption=function(option){this.dslMethods.option.push(option)},DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator=function(manySep){this.dslMethods.repetitionWithSeparator.push(manySep)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory=function(atLeastOne){this.dslMethods.repetitionMandatory.push(atLeastOne)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep)},DslMethodsCollectorVisitor.prototype.visitRepetition=function(many){this.dslMethods.repetition.push(many)},DslMethodsCollectorVisitor.prototype.visitAlternation=function(or){this.dslMethods.alternation.push(or)},DslMethodsCollectorVisitor}(gast_visitor_public_GAstVisitor),gast_collectorVisitor=new gast_DslMethodsCollectorVisitor;function first(prod){if(prod instanceof gast_public_NonTerminal)return first(prod.referencedRule);if(prod instanceof gast_public_Terminal)return function firstForTerminal(terminal){return[terminal.terminalType]}(prod);if(function isSequenceProd(prod){return prod instanceof gast_public_Alternative||prod instanceof gast_public_Option||prod instanceof gast_public_Repetition||prod instanceof gast_public_RepetitionMandatory||prod instanceof gast_public_RepetitionMandatoryWithSeparator||prod instanceof gast_public_RepetitionWithSeparator||prod instanceof gast_public_Terminal||prod instanceof gast_public_Rule}(prod))return function firstForSequence(prod){var currSubProd,firstSet=[],seq=prod.definition,nextSubProdIdx=0,hasInnerProdsRemaining=seq.length>nextSubProdIdx,isLastInnerProdOptional=!0;for(;hasInnerProdsRemaining&&isLastInnerProdOptional;)currSubProd=seq[nextSubProdIdx],isLastInnerProdOptional=isOptionalProd(currSubProd),firstSet=firstSet.concat(first(currSubProd)),nextSubProdIdx+=1,hasInnerProdsRemaining=seq.length>nextSubProdIdx;return Object(utils.T)(firstSet)}(prod);if(function isBranchingProd(prod){return prod instanceof gast_public_Alternation}(prod))return function firstForBranching(prod){var allAlternativesFirsts=Object(utils.I)(prod.definition,(function(innerProd){return first(innerProd)}));return Object(utils.T)(Object(utils.t)(allAlternativesFirsts))}(prod);throw Error("non exhaustive match")}var IN="_~IN~_",follow_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),follow_ResyncFollowsWalker=function(_super){function ResyncFollowsWalker(topProd){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.follows={},_this}return follow_extends(ResyncFollowsWalker,_super),ResyncFollowsWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},ResyncFollowsWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},ResyncFollowsWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){var followName=function buildBetweenProdsFollowPrefix(inner,occurenceInParent){return inner.name+occurenceInParent+IN}(refProd.referencedRule,refProd.idx)+this.topProd.name,fullRest=currRest.concat(prevRest),t_in_topProd_follows=first(new gast_public_Alternative({definition:fullRest}));this.follows[followName]=t_in_topProd_follows},ResyncFollowsWalker}(rest_RestWalker);var defaultParserErrorProvider={buildMismatchTokenMessage:function(_a){var expected=_a.expected,actual=_a.actual;_a.previous,_a.ruleName;return"Expecting "+(hasTokenLabel(expected)?"--\x3e "+tokenLabel(expected)+" <--":"token of type --\x3e "+expected.name+" <--")+" but found --\x3e '"+actual.image+"' <--"},buildNotAllInputParsedMessage:function(_a){var firstRedundant=_a.firstRedundant;_a.ruleName;return"Redundant input, expecting EOF but found: "+firstRedundant.image},buildNoViableAltMessage:function(_a){var expectedPathsPerAlt=_a.expectedPathsPerAlt,actual=_a.actual,customUserDescription=(_a.previous,_a.customUserDescription),errSuffix=(_a.ruleName,"\nbut found: '"+Object(utils.s)(actual).image+"'");if(customUserDescription)return"Expecting: "+customUserDescription+errSuffix;var allLookAheadPaths=Object(utils.O)(expectedPathsPerAlt,(function(result,currAltPaths){return result.concat(currAltPaths)}),[]),nextValidTokenSequences=Object(utils.I)(allLookAheadPaths,(function(currPath){return"["+Object(utils.I)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(utils.I)(nextValidTokenSequences,(function(itemMsg,idx){return"  "+(idx+1)+". "+itemMsg})).join("\n"))+errSuffix},buildEarlyExitMessage:function(_a){var expectedIterationPaths=_a.expectedIterationPaths,actual=_a.actual,customUserDescription=_a.customUserDescription,errSuffix=(_a.ruleName,"\nbut found: '"+Object(utils.s)(actual).image+"'");return customUserDescription?"Expecting: "+customUserDescription+errSuffix:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(utils.I)(expectedIterationPaths,(function(currPath){return"["+Object(utils.I)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(",")+"]"})).join(" ,")+">")+errSuffix}};Object.freeze(defaultParserErrorProvider);var defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(topLevelRule,undefinedRule){return"Invalid grammar, reference to a rule which is not defined: ->"+undefinedRule.nonTerminalName+"<-\ninside top level rule: ->"+topLevelRule.name+"<-"}},defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(topLevelRule,duplicateProds){var topLevelName=topLevelRule.name,duplicateProd=Object(utils.s)(duplicateProds),index=duplicateProd.idx,dslName=getProductionDslName(duplicateProd),extraArgument=function getExtraProductionArgument(prod){return prod instanceof gast_public_Terminal?prod.terminalType.name:prod instanceof gast_public_NonTerminal?prod.nonTerminalName:""}(duplicateProd),msg="->"+dslName+(index>0?index:"")+"<- "+(extraArgument?"with argument: ->"+extraArgument+"<-":"")+"\n                  appears more than once ("+duplicateProds.length+" times) in the top level rule: ->"+topLevelName+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return msg=(msg=msg.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(rule){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+rule.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(options){var pathMsg=Object(utils.I)(options.prefixPath,(function(currTok){return tokenLabel(currTok)})).join(", "),occurrence=0===options.alternation.idx?"":options.alternation.idx;return"Ambiguous alternatives: <"+options.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+occurrence+"> inside <"+options.topLevelRule.name+"> Rule,\n<"+pathMsg+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(options){var pathMsg=Object(utils.I)(options.prefixPath,(function(currtok){return tokenLabel(currtok)})).join(", "),occurrence=0===options.alternation.idx?"":options.alternation.idx,currMessage="Ambiguous Alternatives Detected: <"+options.ambiguityIndices.join(" ,")+"> in <OR"+occurrence+"> inside <"+options.topLevelRule.name+"> Rule,\n<"+pathMsg+"> may appears as a prefix path in all these alternatives.\n";return currMessage+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(options){var dslName=getProductionDslName(options.repetition);return 0!==options.repetition.idx&&(dslName+=options.repetition.idx),"The repetition <"+dslName+"> within Rule <"+options.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(options){return"Invalid Grammar Token name: ->"+options.tokenType.name+"<- it must match the pattern: ->"+options.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(options){return"Ambiguous empty alternative: <"+(options.emptyChoiceIdx+1)+"> in <OR"+options.alternation.idx+"> inside <"+options.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(options){return"An Alternation cannot have more than 256 alternatives:\n<OR"+options.alternation.idx+"> inside <"+options.topLevelRule.name+"> Rule.\n has "+(options.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(options){var ruleName=options.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+ruleName+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(ruleName+" --\x3e "+utils.I(options.leftRecursionPath,(function(currRule){return currRule.name})).concat([ruleName]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(options){return"Invalid grammar rule name: ->"+options.topLevelRule.name+"<- it must match the pattern: ->"+options.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(options){return"Duplicate definition, rule: ->"+(options.topLevelRule instanceof gast_public_Rule?options.topLevelRule.name:options.topLevelRule)+"<- is already defined in the grammar: ->"+options.grammarName+"<-"}},resolver_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();var resolver_GastRefResolverVisitor=function(_super){function GastRefResolverVisitor(nameToTopRule,errMsgProvider){var _this=_super.call(this)||this;return _this.nameToTopRule=nameToTopRule,_this.errMsgProvider=errMsgProvider,_this.errors=[],_this}return resolver_extends(GastRefResolverVisitor,_super),GastRefResolverVisitor.prototype.resolveRefs=function(){var _this=this;Object(utils.u)(Object(utils.U)(this.nameToTopRule),(function(prod){_this.currTopLevel=prod,prod.accept(_this)}))},GastRefResolverVisitor.prototype.visitNonTerminal=function(node){var ref=this.nameToTopRule[node.nonTerminalName];if(ref)node.referencedRule=ref;else{var msg=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,node);this.errors.push({message:msg,type:ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:node.nonTerminalName})}},GastRefResolverVisitor}(gast_visitor_public_GAstVisitor),interpreter_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),interpreter_NextAfterTokenWalker=function(_super){function NextAfterTokenWalker(topProd,path){var _this=_super.call(this,topProd,path)||this;return _this.path=path,_this.nextTerminalName="",_this.nextTerminalOccurrence=0,_this.nextTerminalName=_this.path.lastTok.name,_this.nextTerminalOccurrence=_this.path.lastTokOccurrence,_this}return interpreter_extends(NextAfterTokenWalker,_super),NextAfterTokenWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){if(this.isAtEndOfPath&&terminal.terminalType.name===this.nextTerminalName&&terminal.idx===this.nextTerminalOccurrence&&!this.found){var fullRest=currRest.concat(prevRest),restProd=new gast_public_Alternative({definition:fullRest});this.possibleTokTypes=first(restProd),this.found=!0}},NextAfterTokenWalker}(function(_super){function AbstractNextPossibleTokensWalker(topProd,path){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.path=path,_this.possibleTokTypes=[],_this.nextProductionName="",_this.nextProductionOccurrence=0,_this.found=!1,_this.isAtEndOfPath=!1,_this}return interpreter_extends(AbstractNextPossibleTokensWalker,_super),AbstractNextPossibleTokensWalker.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(utils.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(utils.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},AbstractNextPossibleTokensWalker.prototype.walk=function(prod,prevRest){void 0===prevRest&&(prevRest=[]),this.found||_super.prototype.walk.call(this,prod,prevRest)},AbstractNextPossibleTokensWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){if(refProd.referencedRule.name===this.nextProductionName&&refProd.idx===this.nextProductionOccurrence){var fullRest=currRest.concat(prevRest);this.updateExpectedNext(),this.walk(refProd.referencedRule,fullRest)}},AbstractNextPossibleTokensWalker.prototype.updateExpectedNext=function(){Object(utils.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},AbstractNextPossibleTokensWalker}(rest_RestWalker)),AbstractNextTerminalAfterProductionWalker=function(_super){function AbstractNextTerminalAfterProductionWalker(topRule,occurrence){var _this=_super.call(this)||this;return _this.topRule=topRule,_this.occurrence=occurrence,_this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},_this}return interpreter_extends(AbstractNextTerminalAfterProductionWalker,_super),AbstractNextTerminalAfterProductionWalker.prototype.startWalking=function(){return this.walk(this.topRule),this.result},AbstractNextTerminalAfterProductionWalker}(rest_RestWalker),interpreter_NextTerminalAfterManyWalker=function(_super){function NextTerminalAfterManyWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterManyWalker,_super),NextTerminalAfterManyWalker.prototype.walkMany=function(manyProd,currRest,prevRest){if(manyProd.idx===this.occurrence){var firstAfterMany=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterMany,firstAfterMany instanceof gast_public_Terminal&&(this.result.token=firstAfterMany.terminalType,this.result.occurrence=firstAfterMany.idx)}else _super.prototype.walkMany.call(this,manyProd,currRest,prevRest)},NextTerminalAfterManyWalker}(AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterManySepWalker=function(_super){function NextTerminalAfterManySepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterManySepWalker,_super),NextTerminalAfterManySepWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){if(manySepProd.idx===this.occurrence){var firstAfterManySep=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterManySep,firstAfterManySep instanceof gast_public_Terminal&&(this.result.token=firstAfterManySep.terminalType,this.result.occurrence=firstAfterManySep.idx)}else _super.prototype.walkManySep.call(this,manySepProd,currRest,prevRest)},NextTerminalAfterManySepWalker}(AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterAtLeastOneWalker=function(_super){function NextTerminalAfterAtLeastOneWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterAtLeastOneWalker,_super),NextTerminalAfterAtLeastOneWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){if(atLeastOneProd.idx===this.occurrence){var firstAfterAtLeastOne=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterAtLeastOne,firstAfterAtLeastOne instanceof gast_public_Terminal&&(this.result.token=firstAfterAtLeastOne.terminalType,this.result.occurrence=firstAfterAtLeastOne.idx)}else _super.prototype.walkAtLeastOne.call(this,atLeastOneProd,currRest,prevRest)},NextTerminalAfterAtLeastOneWalker}(AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterAtLeastOneSepWalker=function(_super){function NextTerminalAfterAtLeastOneSepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterAtLeastOneSepWalker,_super),NextTerminalAfterAtLeastOneSepWalker.prototype.walkAtLeastOneSep=function(atleastOneSepProd,currRest,prevRest){if(atleastOneSepProd.idx===this.occurrence){var firstAfterfirstAfterAtLeastOneSep=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterfirstAfterAtLeastOneSep,firstAfterfirstAfterAtLeastOneSep instanceof gast_public_Terminal&&(this.result.token=firstAfterfirstAfterAtLeastOneSep.terminalType,this.result.occurrence=firstAfterfirstAfterAtLeastOneSep.idx)}else _super.prototype.walkAtLeastOneSep.call(this,atleastOneSepProd,currRest,prevRest)},NextTerminalAfterAtLeastOneSepWalker}(AbstractNextTerminalAfterProductionWalker);function possiblePathsFrom(targetDef,maxLength,currPath){void 0===currPath&&(currPath=[]),currPath=Object(utils.g)(currPath);var result=[],i=0;function getAlternativesForProd(definition){var alternatives=possiblePathsFrom(function remainingPathWith(nextDef){return nextDef.concat(Object(utils.m)(targetDef,i+1))}(definition),maxLength,currPath);return result.concat(alternatives)}for(;currPath.length<maxLength&&i<targetDef.length;){var prod=targetDef[i];if(prod instanceof gast_public_Alternative)return getAlternativesForProd(prod.definition);if(prod instanceof gast_public_NonTerminal)return getAlternativesForProd(prod.definition);if(prod instanceof gast_public_Option)result=getAlternativesForProd(prod.definition);else{if(prod instanceof gast_public_RepetitionMandatory)return getAlternativesForProd(newDef=prod.definition.concat([new gast_public_Repetition({definition:prod.definition})]));if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return getAlternativesForProd(newDef=[new gast_public_Alternative({definition:prod.definition}),new gast_public_Repetition({definition:[new gast_public_Terminal({terminalType:prod.separator})].concat(prod.definition)})]);if(prod instanceof gast_public_RepetitionWithSeparator){var newDef=prod.definition.concat([new gast_public_Repetition({definition:[new gast_public_Terminal({terminalType:prod.separator})].concat(prod.definition)})]);result=getAlternativesForProd(newDef)}else if(prod instanceof gast_public_Repetition){newDef=prod.definition.concat([new gast_public_Repetition({definition:prod.definition})]);result=getAlternativesForProd(newDef)}else{if(prod instanceof gast_public_Alternation)return Object(utils.u)(prod.definition,(function(currAlt){result=getAlternativesForProd(currAlt.definition)})),result;if(!(prod instanceof gast_public_Terminal))throw Error("non exhaustive match");currPath.push(prod.terminalType)}}i++}return result.push({partialPath:currPath,suffixDef:Object(utils.m)(targetDef,i)}),result}function nextPossibleTokensAfter(initialDef,tokenVector,tokMatcher,maxLookAhead){var EXIT_NON_TERMINAL_ARR=["EXIT_NONE_TERMINAL"],foundCompletePath=!1,tokenVectorLength=tokenVector.length,minimalAlternativesIndex=tokenVectorLength-maxLookAhead-1,result=[],possiblePaths=[];for(possiblePaths.push({idx:-1,def:initialDef,ruleStack:[],occurrenceStack:[]});!Object(utils.A)(possiblePaths);){var currPath=possiblePaths.pop();if("EXIT_ALTERNATIVE"!==currPath){var currDef=currPath.def,currIdx=currPath.idx,currRuleStack=currPath.ruleStack,currOccurrenceStack=currPath.occurrenceStack;if(!Object(utils.A)(currDef)){var prod=currDef[0];if("EXIT_NONE_TERMINAL"===prod){var nextPath={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:Object(utils.n)(currRuleStack),occurrenceStack:Object(utils.n)(currOccurrenceStack)};possiblePaths.push(nextPath)}else if(prod instanceof gast_public_Terminal)if(currIdx<tokenVectorLength-1){var nextIdx=currIdx+1;if(tokMatcher(tokenVector[nextIdx],prod.terminalType)){nextPath={idx:nextIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}}else{if(currIdx!==tokenVectorLength-1)throw Error("non exhaustive match");result.push({nextTokenType:prod.terminalType,nextTokenOccurrence:prod.idx,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack}),foundCompletePath=!0}else if(prod instanceof gast_public_NonTerminal){var newRuleStack=Object(utils.g)(currRuleStack);newRuleStack.push(prod.nonTerminalName);var newOccurrenceStack=Object(utils.g)(currOccurrenceStack);newOccurrenceStack.push(prod.idx);nextPath={idx:currIdx,def:prod.definition.concat(EXIT_NON_TERMINAL_ARR,Object(utils.m)(currDef)),ruleStack:newRuleStack,occurrenceStack:newOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof gast_public_Option){var nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");var nextPathWith={idx:currIdx,def:prod.definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof gast_public_RepetitionMandatory){var secondIteration=new gast_public_Repetition({definition:prod.definition,idx:prod.idx});nextPath={idx:currIdx,def:prod.definition.concat([secondIteration],Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof gast_public_RepetitionMandatoryWithSeparator){var separatorGast=new gast_public_Terminal({terminalType:prod.separator});secondIteration=new gast_public_Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx}),nextPath={idx:currIdx,def:prod.definition.concat([secondIteration],Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof gast_public_RepetitionWithSeparator){nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");separatorGast=new gast_public_Terminal({terminalType:prod.separator});var nthRepetition=new gast_public_Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx});nextPathWith={idx:currIdx,def:prod.definition.concat([nthRepetition],Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof gast_public_Repetition){nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");nthRepetition=new gast_public_Repetition({definition:prod.definition,idx:prod.idx}),nextPathWith={idx:currIdx,def:prod.definition.concat([nthRepetition],Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof gast_public_Alternation)for(var i=prod.definition.length-1;i>=0;i--){var currAltPath={idx:currIdx,def:prod.definition[i].definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(currAltPath),possiblePaths.push("EXIT_ALTERNATIVE")}else if(prod instanceof gast_public_Alternative)possiblePaths.push({idx:currIdx,def:prod.definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack});else{if(!(prod instanceof gast_public_Rule))throw Error("non exhaustive match");possiblePaths.push(expandTopLevelRule(prod,currIdx,currRuleStack,currOccurrenceStack))}}}else foundCompletePath&&Object(utils.H)(possiblePaths).idx<=minimalAlternativesIndex&&possiblePaths.pop()}return result}function expandTopLevelRule(topRule,currIdx,currRuleStack,currOccurrenceStack){var newRuleStack=Object(utils.g)(currRuleStack);newRuleStack.push(topRule.name);var newCurrOccurrenceStack=Object(utils.g)(currOccurrenceStack);return newCurrOccurrenceStack.push(1),{idx:currIdx,def:topRule.definition,ruleStack:newRuleStack,occurrenceStack:newCurrOccurrenceStack}}var PROD_TYPE,lookahead_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(PROD_TYPE){PROD_TYPE[PROD_TYPE.OPTION=0]="OPTION",PROD_TYPE[PROD_TYPE.REPETITION=1]="REPETITION",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",PROD_TYPE[PROD_TYPE.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",PROD_TYPE[PROD_TYPE.ALTERNATION=5]="ALTERNATION"}(PROD_TYPE||(PROD_TYPE={}));var RestDefinitionFinderWalker=function(_super){function RestDefinitionFinderWalker(topProd,targetOccurrence,targetProdType){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this}return lookahead_extends(RestDefinitionFinderWalker,_super),RestDefinitionFinderWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},RestDefinitionFinderWalker.prototype.checkIsTarget=function(node,expectedProdType,currRest,prevRest){return node.idx===this.targetOccurrence&&this.targetProdType===expectedProdType&&(this.restDef=currRest.concat(prevRest),!0)},RestDefinitionFinderWalker.prototype.walkOption=function(optionProd,currRest,prevRest){this.checkIsTarget(optionProd,PROD_TYPE.OPTION,currRest,prevRest)||_super.prototype.walkOption.call(this,optionProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){this.checkIsTarget(atLeastOneProd,PROD_TYPE.REPETITION_MANDATORY,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){this.checkIsTarget(atLeastOneSepProd,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneSepProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkMany=function(manyProd,currRest,prevRest){this.checkIsTarget(manyProd,PROD_TYPE.REPETITION,currRest,prevRest)||_super.prototype.walkOption.call(this,manyProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){this.checkIsTarget(manySepProd,PROD_TYPE.REPETITION_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,manySepProd,currRest,prevRest)},RestDefinitionFinderWalker}(rest_RestWalker),InsideDefinitionFinderVisitor=function(_super){function InsideDefinitionFinderVisitor(targetOccurrence,targetProdType,targetRef){var _this=_super.call(this)||this;return _this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this.targetRef=targetRef,_this.result=[],_this}return lookahead_extends(InsideDefinitionFinderVisitor,_super),InsideDefinitionFinderVisitor.prototype.checkIsTarget=function(node,expectedProdName){node.idx!==this.targetOccurrence||this.targetProdType!==expectedProdName||void 0!==this.targetRef&&node!==this.targetRef||(this.result=node.definition)},InsideDefinitionFinderVisitor.prototype.visitOption=function(node){this.checkIsTarget(node,PROD_TYPE.OPTION)},InsideDefinitionFinderVisitor.prototype.visitRepetition=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatory=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitRepetitionWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitAlternation=function(node){this.checkIsTarget(node,PROD_TYPE.ALTERNATION)},InsideDefinitionFinderVisitor}(gast_visitor_public_GAstVisitor);function initializeArrayOfArrays(size){for(var result=new Array(size),i=0;i<size;i++)result[i]=[];return result}function pathToHashKeys(path){for(var keys=[""],i=0;i<path.length;i++){for(var tokType=path[i],longerKeys=[],j=0;j<keys.length;j++){var currShorterKey=keys[j];longerKeys.push(currShorterKey+"_"+tokType.tokenTypeIdx);for(var t=0;t<tokType.categoryMatches.length;t++){var categoriesKeySuffix="_"+tokType.categoryMatches[t];longerKeys.push(currShorterKey+categoriesKeySuffix)}}keys=longerKeys}return keys}function isUniquePrefixHash(altKnownPathsKeys,searchPathKeys,idx){for(var currAltIdx=0;currAltIdx<altKnownPathsKeys.length;currAltIdx++)if(currAltIdx!==idx)for(var otherAltKnownPathsKeys=altKnownPathsKeys[currAltIdx],searchIdx=0;searchIdx<searchPathKeys.length;searchIdx++){if(!0===otherAltKnownPathsKeys[searchPathKeys[searchIdx]])return!1}return!0}function lookAheadSequenceFromAlternatives(altsDefs,k){for(var partialAlts=Object(utils.I)(altsDefs,(function(currAlt){return possiblePathsFrom([currAlt],1)})),finalResult=initializeArrayOfArrays(partialAlts.length),altsHashes=Object(utils.I)(partialAlts,(function(currAltPaths){var dict={};return Object(utils.u)(currAltPaths,(function(item){var keys=pathToHashKeys(item.partialPath);Object(utils.u)(keys,(function(currKey){dict[currKey]=!0}))})),dict})),newData=partialAlts,pathLength=1;pathLength<=k;pathLength++){var currDataset=newData;newData=initializeArrayOfArrays(currDataset.length);for(var _loop_1=function(altIdx){for(var currAltPathsAndSuffixes=currDataset[altIdx],currPathIdx=0;currPathIdx<currAltPathsAndSuffixes.length;currPathIdx++){var currPathPrefix=currAltPathsAndSuffixes[currPathIdx].partialPath,suffixDef=currAltPathsAndSuffixes[currPathIdx].suffixDef,prefixKeys=pathToHashKeys(currPathPrefix);if(isUniquePrefixHash(altsHashes,prefixKeys,altIdx)||Object(utils.A)(suffixDef)||currPathPrefix.length===k){var currAltResult=finalResult[altIdx];if(!1===containsPath(currAltResult,currPathPrefix)){currAltResult.push(currPathPrefix);for(var j=0;j<prefixKeys.length;j++){var currKey=prefixKeys[j];altsHashes[altIdx][currKey]=!0}}}else{var newPartialPathsAndSuffixes=possiblePathsFrom(suffixDef,pathLength+1,currPathPrefix);newData[altIdx]=newData[altIdx].concat(newPartialPathsAndSuffixes),Object(utils.u)(newPartialPathsAndSuffixes,(function(item){var prefixKeys=pathToHashKeys(item.partialPath);Object(utils.u)(prefixKeys,(function(key){altsHashes[altIdx][key]=!0}))}))}}},altIdx=0;altIdx<currDataset.length;altIdx++)_loop_1(altIdx)}return finalResult}function getLookaheadPathsForOr(occurrence,ruleGrammar,k,orProd){var visitor=new InsideDefinitionFinderVisitor(occurrence,PROD_TYPE.ALTERNATION,orProd);return ruleGrammar.accept(visitor),lookAheadSequenceFromAlternatives(visitor.result,k)}function getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k){var insideDefVisitor=new InsideDefinitionFinderVisitor(occurrence,prodType);ruleGrammar.accept(insideDefVisitor);var insideDef=insideDefVisitor.result,afterDef=new RestDefinitionFinderWalker(ruleGrammar,occurrence,prodType).startWalking();return lookAheadSequenceFromAlternatives([new gast_public_Alternative({definition:insideDef}),new gast_public_Alternative({definition:afterDef})],k)}function containsPath(alternative,searchPath){compareOtherPath:for(var i=0;i<alternative.length;i++){var otherPath=alternative[i];if(otherPath.length===searchPath.length){for(var j=0;j<otherPath.length;j++){var searchTok=searchPath[j],otherTok=otherPath[j];if(!1===(searchTok===otherTok||void 0!==otherTok.categoryMatchesMap[searchTok.tokenTypeIdx]))continue compareOtherPath}return!0}}return!1}function areTokenCategoriesNotUsed(lookAheadPaths){return Object(utils.o)(lookAheadPaths,(function(singleAltPaths){return Object(utils.o)(singleAltPaths,(function(singlePath){return Object(utils.o)(singlePath,(function(token){return Object(utils.A)(token.categoryMatches)}))}))}))}var checks_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();function validateGrammar(topLevels,globalMaxLookahead,tokenTypes,errMsgProvider,grammarName){var duplicateErrors=utils.I(topLevels,(function(currTopLevel){return function validateDuplicateProductions(topLevelRule,errMsgProvider){var collectorVisitor=new OccurrenceValidationCollector;topLevelRule.accept(collectorVisitor);var allRuleProductions=collectorVisitor.allProductions,productionGroups=utils.v(allRuleProductions,identifyProductionForDuplicates),duplicates=utils.N(productionGroups,(function(currGroup){return currGroup.length>1}));return utils.I(utils.U(duplicates),(function(currDuplicates){var firstProd=utils.s(currDuplicates),msg=errMsgProvider.buildDuplicateFoundError(topLevelRule,currDuplicates),dslName=getProductionDslName(firstProd),defError={message:msg,type:ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:topLevelRule.name,dslName:dslName,occurrence:firstProd.idx},param=checks_getExtraProductionArgument(firstProd);return param&&(defError.parameter=param),defError}))}(currTopLevel,errMsgProvider)})),leftRecursionErrors=utils.I(topLevels,(function(currTopRule){return function validateNoLeftRecursion(topRule,currRule,errMsgProvider,path){void 0===path&&(path=[]);var errors=[],nextNonTerminals=function getFirstNoneTerminal(definition){var result=[];if(utils.A(definition))return result;var firstProd=utils.s(definition);if(firstProd instanceof gast_public_NonTerminal)result.push(firstProd.referencedRule);else if(firstProd instanceof gast_public_Alternative||firstProd instanceof gast_public_Option||firstProd instanceof gast_public_RepetitionMandatory||firstProd instanceof gast_public_RepetitionMandatoryWithSeparator||firstProd instanceof gast_public_RepetitionWithSeparator||firstProd instanceof gast_public_Repetition)result=result.concat(getFirstNoneTerminal(firstProd.definition));else if(firstProd instanceof gast_public_Alternation)result=utils.t(utils.I(firstProd.definition,(function(currSubDef){return getFirstNoneTerminal(currSubDef.definition)})));else if(!(firstProd instanceof gast_public_Terminal))throw Error("non exhaustive match");var isFirstOptional=isOptionalProd(firstProd),hasMore=definition.length>1;if(isFirstOptional&&hasMore){var rest=utils.m(definition);return result.concat(getFirstNoneTerminal(rest))}return result}(currRule.definition);if(utils.A(nextNonTerminals))return[];var ruleName=topRule.name;utils.j(nextNonTerminals,topRule)&&errors.push({message:errMsgProvider.buildLeftRecursionError({topLevelRule:topRule,leftRecursionPath:path}),type:ParserDefinitionErrorType.LEFT_RECURSION,ruleName:ruleName});var validNextSteps=utils.l(nextNonTerminals,path.concat([topRule])),errorsFromNextSteps=utils.I(validNextSteps,(function(currRefRule){var newPath=utils.g(path);return newPath.push(currRefRule),validateNoLeftRecursion(topRule,currRefRule,errMsgProvider,newPath)}));return errors.concat(utils.t(errorsFromNextSteps))}(currTopRule,currTopRule,errMsgProvider)})),emptyAltErrors=[],ambiguousAltsErrors=[],emptyRepetitionErrors=[];Object(utils.o)(leftRecursionErrors,utils.A)&&(emptyAltErrors=Object(utils.I)(topLevels,(function(currTopRule){return function validateEmptyOrAlternative(topLevelRule,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations;return utils.O(ors,(function(errors,currOr){var exceptLast=utils.n(currOr.definition),currErrors=utils.I(exceptLast,(function(currAlternative,currAltIdx){var possibleFirstInAlt=nextPossibleTokensAfter([currAlternative],[],null,1);return utils.A(possibleFirstInAlt)?{message:errMsgProvider.buildEmptyAlternationError({topLevelRule:topLevelRule,alternation:currOr,emptyChoiceIdx:currAltIdx}),type:ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:topLevelRule.name,occurrence:currOr.idx,alternative:currAltIdx+1}:null}));return errors.concat(utils.i(currErrors))}),[])}(currTopRule,errMsgProvider)})),ambiguousAltsErrors=Object(utils.I)(topLevels,(function(currTopRule){return function validateAmbiguousAlternationAlternatives(topLevelRule,globalMaxLookahead,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations;return ors=Object(utils.P)(ors,(function(currOr){return!0===currOr.ignoreAmbiguities})),utils.O(ors,(function(result,currOr){var currOccurrence=currOr.idx,actualMaxLookahead=currOr.maxLookahead||globalMaxLookahead,alternatives=getLookaheadPathsForOr(currOccurrence,topLevelRule,actualMaxLookahead,currOr),altsAmbiguityErrors=function checkAlternativesAmbiguities(alternatives,alternation,rule,errMsgProvider){var foundAmbiguousPaths=[],identicalAmbiguities=Object(utils.O)(alternatives,(function(result,currAlt,currAltIdx){return!0===alternation.definition[currAltIdx].ignoreAmbiguities||Object(utils.u)(currAlt,(function(currPath){var altsCurrPathAppearsIn=[currAltIdx];Object(utils.u)(alternatives,(function(currOtherAlt,currOtherAltIdx){currAltIdx!==currOtherAltIdx&&containsPath(currOtherAlt,currPath)&&!0!==alternation.definition[currOtherAltIdx].ignoreAmbiguities&&altsCurrPathAppearsIn.push(currOtherAltIdx)})),altsCurrPathAppearsIn.length>1&&!containsPath(foundAmbiguousPaths,currPath)&&(foundAmbiguousPaths.push(currPath),result.push({alts:altsCurrPathAppearsIn,path:currPath}))})),result}),[]);return utils.I(identicalAmbiguities,(function(currAmbDescriptor){var ambgIndices=Object(utils.I)(currAmbDescriptor.alts,(function(currAltIdx){return currAltIdx+1}));return{message:errMsgProvider.buildAlternationAmbiguityError({topLevelRule:rule,alternation:alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbDescriptor.path}),type:ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:rule.name,occurrence:alternation.idx,alternatives:[currAmbDescriptor.alts]}}))}(alternatives,currOr,topLevelRule,errMsgProvider),altsPrefixAmbiguityErrors=function checkPrefixAlternativesAmbiguities(alternatives,alternation,rule,errMsgProvider){var errors=[],pathsAndIndices=Object(utils.O)(alternatives,(function(result,currAlt,idx){var currPathsAndIdx=Object(utils.I)(currAlt,(function(currPath){return{idx:idx,path:currPath}}));return result.concat(currPathsAndIdx)}),[]);return Object(utils.u)(pathsAndIndices,(function(currPathAndIdx){if(!0!==alternation.definition[currPathAndIdx.idx].ignoreAmbiguities){var targetIdx=currPathAndIdx.idx,targetPath=currPathAndIdx.path,prefixAmbiguitiesPathsAndIndices=Object(utils.r)(pathsAndIndices,(function(searchPathAndIdx){return!0!==alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities&&searchPathAndIdx.idx<targetIdx&&function isStrictPrefixOfPath(prefix,other){return prefix.length<other.length&&Object(utils.o)(prefix,(function(tokType,idx){var otherTokType=other[idx];return tokType===otherTokType||otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]}))}(searchPathAndIdx.path,targetPath)})),currPathPrefixErrors=Object(utils.I)(prefixAmbiguitiesPathsAndIndices,(function(currAmbPathAndIdx){var ambgIndices=[currAmbPathAndIdx.idx+1,targetIdx+1],occurrence=0===alternation.idx?"":alternation.idx;return{message:errMsgProvider.buildAlternationPrefixAmbiguityError({topLevelRule:rule,alternation:alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbPathAndIdx.path}),type:ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:rule.name,occurrence:occurrence,alternatives:ambgIndices}}));errors=errors.concat(currPathPrefixErrors)}})),errors}(alternatives,currOr,topLevelRule,errMsgProvider);return result.concat(altsAmbiguityErrors,altsPrefixAmbiguityErrors)}),[])}(currTopRule,globalMaxLookahead,errMsgProvider)})),emptyRepetitionErrors=function validateSomeNonEmptyLookaheadPath(topLevelRules,maxLookahead,errMsgProvider){var errors=[];return Object(utils.u)(topLevelRules,(function(currTopRule){var collectorVisitor=new RepetionCollector;currTopRule.accept(collectorVisitor);var allRuleProductions=collectorVisitor.allProductions;Object(utils.u)(allRuleProductions,(function(currProd){var prodType=function getProdType(prod){if(prod instanceof gast_public_Option)return PROD_TYPE.OPTION;if(prod instanceof gast_public_Repetition)return PROD_TYPE.REPETITION;if(prod instanceof gast_public_RepetitionMandatory)return PROD_TYPE.REPETITION_MANDATORY;if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;if(prod instanceof gast_public_RepetitionWithSeparator)return PROD_TYPE.REPETITION_WITH_SEPARATOR;if(prod instanceof gast_public_Alternation)return PROD_TYPE.ALTERNATION;throw Error("non exhaustive match")}(currProd),actualMaxLookahead=currProd.maxLookahead||maxLookahead,pathsInsideProduction=getLookaheadPathsForOptionalProd(currProd.idx,currTopRule,prodType,actualMaxLookahead)[0];if(Object(utils.A)(Object(utils.t)(pathsInsideProduction))){var errMsg=errMsgProvider.buildEmptyRepetitionError({topLevelRule:currTopRule,repetition:currProd});errors.push({message:errMsg,type:ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:currTopRule.name})}}))})),errors}(topLevels,globalMaxLookahead,errMsgProvider));var termsNamespaceConflictErrors=function checkTerminalAndNoneTerminalsNameSpace(topLevels,tokenTypes,errMsgProvider){var errors=[],tokenNames=Object(utils.I)(tokenTypes,(function(currToken){return currToken.name}));return Object(utils.u)(topLevels,(function(currRule){var currRuleName=currRule.name;if(Object(utils.j)(tokenNames,currRuleName)){var errMsg=errMsgProvider.buildNamespaceConflictError(currRule);errors.push({message:errMsg,type:ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:currRuleName})}})),errors}(topLevels,tokenTypes,errMsgProvider),tokenNameErrors=utils.I(tokenTypes,(function(currTokType){return function validateTokenName(tokenType,errMsgProvider){var errors=[];tokenType.name.match(validTermsPattern)||errors.push({message:errMsgProvider.buildTokenNameError({tokenType:tokenType,expectedPattern:validTermsPattern}),type:ParserDefinitionErrorType.INVALID_TOKEN_NAME});return errors}(currTokType,errMsgProvider)})),tooManyAltsErrors=Object(utils.I)(topLevels,(function(curRule){return function validateTooManyAlts(topLevelRule,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations;return utils.O(ors,(function(errors,currOr){return currOr.definition.length>255&&errors.push({message:errMsgProvider.buildTooManyAlternativesError({topLevelRule:topLevelRule,alternation:currOr}),type:ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:topLevelRule.name,occurrence:currOr.idx}),errors}),[])}(curRule,errMsgProvider)})),ruleNameErrors=Object(utils.I)(topLevels,(function(curRule){return function validateRuleName(rule,errMsgProvider){var errors=[],ruleName=rule.name;ruleName.match(validTermsPattern)||errors.push({message:errMsgProvider.buildInvalidRuleNameError({topLevelRule:rule,expectedPattern:validTermsPattern}),type:ParserDefinitionErrorType.INVALID_RULE_NAME,ruleName:ruleName});return errors}(curRule,errMsgProvider)})),duplicateRulesError=Object(utils.I)(topLevels,(function(curRule){return function validateRuleDoesNotAlreadyExist(rule,allRules,className,errMsgProvider){var errors=[];if(Object(utils.O)(allRules,(function(result,curRule){return curRule.name===rule.name?result+1:result}),0)>1){var errMsg=errMsgProvider.buildDuplicateRuleNameError({topLevelRule:rule,grammarName:className});errors.push({message:errMsg,type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:rule.name})}return errors}(curRule,topLevels,grammarName,errMsgProvider)}));return utils.t(duplicateErrors.concat(tokenNameErrors,emptyRepetitionErrors,leftRecursionErrors,emptyAltErrors,ambiguousAltsErrors,termsNamespaceConflictErrors,tooManyAltsErrors,ruleNameErrors,duplicateRulesError))}function identifyProductionForDuplicates(prod){return getProductionDslName(prod)+"_#_"+prod.idx+"_#_"+checks_getExtraProductionArgument(prod)}function checks_getExtraProductionArgument(prod){return prod instanceof gast_public_Terminal?prod.terminalType.name:prod instanceof gast_public_NonTerminal?prod.nonTerminalName:""}var OccurrenceValidationCollector=function(_super){function OccurrenceValidationCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return checks_extends(OccurrenceValidationCollector,_super),OccurrenceValidationCollector.prototype.visitNonTerminal=function(subrule){this.allProductions.push(subrule)},OccurrenceValidationCollector.prototype.visitOption=function(option){this.allProductions.push(option)},OccurrenceValidationCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},OccurrenceValidationCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},OccurrenceValidationCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},OccurrenceValidationCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},OccurrenceValidationCollector.prototype.visitAlternation=function(or){this.allProductions.push(or)},OccurrenceValidationCollector.prototype.visitTerminal=function(terminal){this.allProductions.push(terminal)},OccurrenceValidationCollector}(gast_visitor_public_GAstVisitor),validTermsPattern=/^[a-zA-Z_]\w*$/;var OrCollector=function(_super){function OrCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.alternations=[],_this}return checks_extends(OrCollector,_super),OrCollector.prototype.visitAlternation=function(node){this.alternations.push(node)},OrCollector}(gast_visitor_public_GAstVisitor);var RepetionCollector=function(_super){function RepetionCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return checks_extends(RepetionCollector,_super),RepetionCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},RepetionCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},RepetionCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},RepetionCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},RepetionCollector}(gast_visitor_public_GAstVisitor);function gast_resolver_public_resolveGrammar(options){options=Object(utils.k)(options,{errMsgProvider:defaultGrammarResolverErrorProvider});var topRulesTable={};return Object(utils.u)(options.rules,(function(rule){topRulesTable[rule.name]=rule})),function resolveGrammar(topLevels,errMsgProvider){var refResolver=new resolver_GastRefResolverVisitor(topLevels,errMsgProvider);return refResolver.resolveRefs(),refResolver.errors}(topRulesTable,options.errMsgProvider)}function gast_resolver_public_validateGrammar(options){return validateGrammar((options=Object(utils.k)(options,{errMsgProvider:defaultGrammarValidatorErrorProvider})).rules,options.maxLookahead,options.tokenTypes,options.errMsgProvider,options.grammarName)}function assignOccurrenceIndices(options){Object(utils.u)(options.rules,(function(currRule){var methodsCollector=new gast_DslMethodsCollectorVisitor;currRule.accept(methodsCollector),Object(utils.u)(methodsCollector.dslMethods,(function(methods){Object(utils.u)(methods,(function(currMethod,arrIdx){currMethod.idx=arrIdx+1}))}))}))}var RECOGNITION_EXCEPTION_NAMES=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function isRecognitionException(error){return Object(utils.j)(RECOGNITION_EXCEPTION_NAMES,error.name)}function MismatchedTokenException(message,token,previousToken){this.name="MismatchedTokenException",this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}function NoViableAltException(message,token,previousToken){this.name="NoViableAltException",this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}function NotAllInputParsedException(message,token){this.name="NotAllInputParsedException",this.message=message,this.token=token,this.resyncedTokens=[]}function EarlyExitException(message,token,previousToken){this.name="EarlyExitException",this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}Object.freeze(RECOGNITION_EXCEPTION_NAMES),MismatchedTokenException.prototype=Error.prototype,NoViableAltException.prototype=Error.prototype,NotAllInputParsedException.prototype=Error.prototype,EarlyExitException.prototype=Error.prototype;var EOF_FOLLOW_KEY={};function InRuleRecoveryException(message){this.name="InRuleRecoveryException",this.message=message}InRuleRecoveryException.prototype=Error.prototype;var recoverable_Recoverable=function(){function Recoverable(){}return Recoverable.prototype.initRecoverable=function(config){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(utils.w)(config,"recoveryEnabled")?config.recoveryEnabled:DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=attemptInRepetitionRecovery)},Recoverable.prototype.getTokenToInsert=function(tokType){var tokToInsert=createTokenInstance(tokType,"",NaN,NaN,NaN,NaN,NaN,NaN);return tokToInsert.isInsertedInRecovery=!0,tokToInsert},Recoverable.prototype.canTokenTypeBeInsertedInRecovery=function(tokType){return!0},Recoverable.prototype.tryInRepetitionRecovery=function(grammarRule,grammarRuleArgs,lookAheadFunc,expectedTokType){for(var _this=this,reSyncTokType=this.findReSyncTokenType(),savedLexerState=this.exportLexerState(),resyncedTokens=[],passedResyncPoint=!1,nextTokenWithoutResync=this.LA(1),currToken=this.LA(1),generateErrorMessage=function(){var previousToken=_this.LA(0),error=new MismatchedTokenException(_this.errorMessageProvider.buildMismatchTokenMessage({expected:expectedTokType,actual:nextTokenWithoutResync,previous:previousToken,ruleName:_this.getCurrRuleFullName()}),nextTokenWithoutResync,_this.LA(0));error.resyncedTokens=Object(utils.n)(resyncedTokens),_this.SAVE_ERROR(error)};!passedResyncPoint;){if(this.tokenMatcher(currToken,expectedTokType))return void generateErrorMessage();if(lookAheadFunc.call(this))return generateErrorMessage(),void grammarRule.apply(this,grammarRuleArgs);this.tokenMatcher(currToken,reSyncTokType)?passedResyncPoint=!0:(currToken=this.SKIP_TOKEN(),this.addToResyncTokens(currToken,resyncedTokens))}this.importLexerState(savedLexerState)},Recoverable.prototype.shouldInRepetitionRecoveryBeTried=function(expectTokAfterLastMatch,nextTokIdx,notStuck){return!1!==notStuck&&(void 0!==expectTokAfterLastMatch&&void 0!==nextTokIdx&&(!this.tokenMatcher(this.LA(1),expectTokAfterLastMatch)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(expectTokAfterLastMatch,this.getFollowsForInRuleRecovery(expectTokAfterLastMatch,nextTokIdx)))))},Recoverable.prototype.getFollowsForInRuleRecovery=function(tokType,tokIdxInRule){var grammarPath=this.getCurrentGrammarPath(tokType,tokIdxInRule);return this.getNextPossibleTokenTypes(grammarPath)},Recoverable.prototype.tryInRuleRecovery=function(expectedTokType,follows){if(this.canRecoverWithSingleTokenInsertion(expectedTokType,follows))return this.getTokenToInsert(expectedTokType);if(this.canRecoverWithSingleTokenDeletion(expectedTokType)){var nextTok=this.SKIP_TOKEN();return this.consumeToken(),nextTok}throw new InRuleRecoveryException("sad sad panda")},Recoverable.prototype.canPerformInRuleRecovery=function(expectedToken,follows){return this.canRecoverWithSingleTokenInsertion(expectedToken,follows)||this.canRecoverWithSingleTokenDeletion(expectedToken)},Recoverable.prototype.canRecoverWithSingleTokenInsertion=function(expectedTokType,follows){var _this=this;if(!this.canTokenTypeBeInsertedInRecovery(expectedTokType))return!1;if(Object(utils.A)(follows))return!1;var mismatchedTok=this.LA(1);return void 0!==Object(utils.q)(follows,(function(possibleFollowsTokType){return _this.tokenMatcher(mismatchedTok,possibleFollowsTokType)}))},Recoverable.prototype.canRecoverWithSingleTokenDeletion=function(expectedTokType){return this.tokenMatcher(this.LA(2),expectedTokType)},Recoverable.prototype.isInCurrentRuleReSyncSet=function(tokenTypeIdx){var followKey=this.getCurrFollowKey(),currentRuleReSyncSet=this.getFollowSetFromFollowKey(followKey);return Object(utils.j)(currentRuleReSyncSet,tokenTypeIdx)},Recoverable.prototype.findReSyncTokenType=function(){for(var allPossibleReSyncTokTypes=this.flattenFollowSet(),nextToken=this.LA(1),k=2;;){var nextTokenType=nextToken.tokenType;if(Object(utils.j)(allPossibleReSyncTokTypes,nextTokenType))return nextTokenType;nextToken=this.LA(k),k++}},Recoverable.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return EOF_FOLLOW_KEY;var currRuleShortName=this.getLastExplicitRuleShortName(),currRuleIdx=this.getLastExplicitRuleOccurrenceIndex(),prevRuleShortName=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(currRuleShortName),idxInCallingRule:currRuleIdx,inRule:this.shortRuleNameToFullName(prevRuleShortName)}},Recoverable.prototype.buildFullFollowKeyStack=function(){var _this=this,explicitRuleStack=this.RULE_STACK,explicitOccurrenceStack=this.RULE_OCCURRENCE_STACK;return Object(utils.I)(explicitRuleStack,(function(ruleName,idx){return 0===idx?EOF_FOLLOW_KEY:{ruleName:_this.shortRuleNameToFullName(ruleName),idxInCallingRule:explicitOccurrenceStack[idx],inRule:_this.shortRuleNameToFullName(explicitRuleStack[idx-1])}}))},Recoverable.prototype.flattenFollowSet=function(){var _this=this,followStack=Object(utils.I)(this.buildFullFollowKeyStack(),(function(currKey){return _this.getFollowSetFromFollowKey(currKey)}));return Object(utils.t)(followStack)},Recoverable.prototype.getFollowSetFromFollowKey=function(followKey){if(followKey===EOF_FOLLOW_KEY)return[EOF];var followName=followKey.ruleName+followKey.idxInCallingRule+IN+followKey.inRule;return this.resyncFollows[followName]},Recoverable.prototype.addToResyncTokens=function(token,resyncTokens){return this.tokenMatcher(token,EOF)||resyncTokens.push(token),resyncTokens},Recoverable.prototype.reSyncTo=function(tokType){for(var resyncedTokens=[],nextTok=this.LA(1);!1===this.tokenMatcher(nextTok,tokType);)nextTok=this.SKIP_TOKEN(),this.addToResyncTokens(nextTok,resyncedTokens);return Object(utils.n)(resyncedTokens)},Recoverable.prototype.attemptInRepetitionRecovery=function(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){},Recoverable.prototype.getCurrentGrammarPath=function(tokType,tokIdxInRule){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(utils.g)(this.RULE_OCCURRENCE_STACK),lastTok:tokType,lastTokOccurrence:tokIdxInRule}},Recoverable.prototype.getHumanReadableRuleStack=function(){var _this=this;return Object(utils.I)(this.RULE_STACK,(function(currShortName){return _this.shortRuleNameToFullName(currShortName)}))},Recoverable}();function attemptInRepetitionRecovery(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){var key=this.getKeyForAutomaticLookahead(dslMethodIdx,prodOccurrence),firstAfterRepInfo=this.firstAfterRepMap[key];if(void 0===firstAfterRepInfo){var currRuleName=this.getCurrRuleFullName();firstAfterRepInfo=new nextToksWalker(this.getGAstProductions()[currRuleName],prodOccurrence).startWalking(),this.firstAfterRepMap[key]=firstAfterRepInfo}var expectTokAfterLastMatch=firstAfterRepInfo.token,nextTokIdx=firstAfterRepInfo.occurrence,isEndOfRule=firstAfterRepInfo.isEndOfRule;1===this.RULE_STACK.length&&isEndOfRule&&void 0===expectTokAfterLastMatch&&(expectTokAfterLastMatch=EOF,nextTokIdx=1),this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch,nextTokIdx,notStuck)&&this.tryInRepetitionRecovery(prodFunc,args,lookaheadFunc,expectTokAfterLastMatch)}function getKeyForAutomaticLookahead(ruleIdx,dslMethodIdx,occurrence){return occurrence|dslMethodIdx|ruleIdx}var looksahead_LooksAhead=function(){function LooksAhead(){}return LooksAhead.prototype.initLooksAhead=function(config){this.dynamicTokensEnabled=Object(utils.w)(config,"dynamicTokensEnabled")?config.dynamicTokensEnabled:DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=Object(utils.w)(config,"maxLookahead")?config.maxLookahead:DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=Object(utils.z)()?new Map:[],Object(utils.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},LooksAhead.prototype.preComputeLookaheadFunctions=function(rules){var _this=this;Object(utils.u)(rules,(function(currRule){_this.TRACE_INIT(currRule.name+" Rule Lookahead",(function(){var _a=function collectMethods(rule){gast_collectorVisitor.reset(),rule.accept(gast_collectorVisitor);var dslMethods=gast_collectorVisitor.dslMethods;return gast_collectorVisitor.reset(),dslMethods}(currRule),alternation=_a.alternation,repetition=_a.repetition,option=_a.option,repetitionMandatory=_a.repetitionMandatory,repetitionMandatoryWithSeparator=_a.repetitionMandatoryWithSeparator,repetitionWithSeparator=_a.repetitionWithSeparator;Object(utils.u)(alternation,(function(currProd){var prodIdx=0===currProd.idx?"":currProd.idx;_this.TRACE_INIT(""+getProductionDslName(currProd)+prodIdx,(function(){var laFunc=function buildLookaheadFuncForOr(occurrence,ruleGrammar,maxLookahead,hasPredicates,dynamicTokensEnabled,laFuncBuilder){var lookAheadPaths=getLookaheadPathsForOr(occurrence,ruleGrammar,maxLookahead);return laFuncBuilder(lookAheadPaths,hasPredicates,areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,dynamicTokensEnabled)}(currProd.idx,currRule,currProd.maxLookahead||_this.maxLookahead,currProd.hasPredicates,_this.dynamicTokensEnabled,_this.lookAheadBuilderForAlternatives),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name],256,currProd.idx);_this.setLaFuncCache(key,laFunc)}))})),Object(utils.u)(repetition,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,768,PROD_TYPE.REPETITION,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(option,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,512,PROD_TYPE.OPTION,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionMandatory,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1024,PROD_TYPE.REPETITION_MANDATORY,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionMandatoryWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1536,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1280,PROD_TYPE.REPETITION_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))}))}))}))},LooksAhead.prototype.computeLookaheadFunc=function(rule,prodOccurrence,prodKey,prodType,prodMaxLookahead,dslMethodName){var _this=this;this.TRACE_INIT(""+dslMethodName+(0===prodOccurrence?"":prodOccurrence),(function(){var laFunc=function buildLookaheadFuncForOptionalProd(occurrence,ruleGrammar,k,dynamicTokensEnabled,prodType,lookaheadBuilder){var lookAheadPaths=getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k),tokenMatcher=areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher;return lookaheadBuilder(lookAheadPaths[0],tokenMatcher,dynamicTokensEnabled)}(prodOccurrence,rule,prodMaxLookahead||_this.maxLookahead,_this.dynamicTokensEnabled,prodType,_this.lookAheadBuilderForOptional),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name],prodKey,prodOccurrence);_this.setLaFuncCache(key,laFunc)}))},LooksAhead.prototype.lookAheadBuilderForOptional=function(alt,tokenMatcher,dynamicTokensEnabled){return function buildSingleAlternativeLookaheadFunction(alt,tokenMatcher,dynamicTokensEnabled){var areAllOneTokenLookahead=Object(utils.o)(alt,(function(currPath){return 1===currPath.length})),numOfPaths=alt.length;if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokensTypes=Object(utils.t)(alt);if(1===singleTokensTypes.length&&Object(utils.A)(singleTokensTypes[0].categoryMatches)){var expectedTokenUniqueKey_1=singleTokensTypes[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===expectedTokenUniqueKey_1}}var choiceToAlt_2=Object(utils.O)(singleTokensTypes,(function(result,currTokType,idx){return result[currTokType.tokenTypeIdx]=!0,Object(utils.u)(currTokType.categoryMatches,(function(currExtendingType){result[currExtendingType]=!0})),result}),[]);return function(){var nextToken=this.LA(1);return!0===choiceToAlt_2[nextToken.tokenTypeIdx]}}return function(){nextPath:for(var j=0;j<numOfPaths;j++){for(var currPath=alt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return!0}return!1}}(alt,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.lookAheadBuilderForAlternatives=function(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){return function buildAlternativesLookAheadFunc(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){var numOfAlts=alts.length,areAllOneTokenLookahead=Object(utils.o)(alts,(function(currAlt){return Object(utils.o)(currAlt,(function(currPath){return 1===currPath.length}))}));if(hasPredicates)return function(orAlts){for(var predicates=Object(utils.I)(orAlts,(function(currAlt){return currAlt.GATE})),t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length,currPredicate=predicates[t];if(void 0===currPredicate||!1!==currPredicate.call(this))nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}};if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokenAlts=Object(utils.I)(alts,(function(currAlt){return Object(utils.t)(currAlt)})),choiceToAlt_1=Object(utils.O)(singleTokenAlts,(function(result,currAlt,idx){return Object(utils.u)(currAlt,(function(currTokType){Object(utils.w)(result,currTokType.tokenTypeIdx)||(result[currTokType.tokenTypeIdx]=idx),Object(utils.u)(currTokType.categoryMatches,(function(currExtendingType){Object(utils.w)(result,currExtendingType)||(result[currExtendingType]=idx)}))})),result}),[]);return function(){var nextToken=this.LA(1);return choiceToAlt_1[nextToken.tokenTypeIdx]}}return function(){for(var t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length;nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}}}(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.getKeyForAutomaticLookahead=function(dslMethodIdx,occurrence){return getKeyForAutomaticLookahead(this.getLastExplicitRuleShortName(),dslMethodIdx,occurrence)},LooksAhead.prototype.getLaFuncFromCache=function(key){},LooksAhead.prototype.getLaFuncFromMap=function(key){return this.lookAheadFuncsCache.get(key)},LooksAhead.prototype.getLaFuncFromObj=function(key){return this.lookAheadFuncsCache[key]},LooksAhead.prototype.setLaFuncCache=function(key,value){},LooksAhead.prototype.setLaFuncCacheUsingMap=function(key,value){this.lookAheadFuncsCache.set(key,value)},LooksAhead.prototype.setLaFuncUsingObj=function(key,value){this.lookAheadFuncsCache[key]=value},LooksAhead}();function setNodeLocationOnlyOffset(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.endOffset=newLocationInfo.endOffset):currNodeLocation.endOffset<newLocationInfo.endOffset==!0&&(currNodeLocation.endOffset=newLocationInfo.endOffset)}function setNodeLocationFull(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.startColumn=newLocationInfo.startColumn,currNodeLocation.startLine=newLocationInfo.startLine,currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine):currNodeLocation.endOffset<newLocationInfo.endOffset==!0&&(currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine)}var CstVisitorDefinitionError,FUNC_NAME_REGEXP=/^\s*function\s*(\S*)\s*\(/;function functionName(func){var existingNameProp=func.name;return existingNameProp||func.toString().match(FUNC_NAME_REGEXP)[1]}function defineNameProp(obj,nameValue){var namePropDescriptor=Object.getOwnPropertyDescriptor(obj,"name");return!(!Object(utils.F)(namePropDescriptor)&&!namePropDescriptor.configurable)&&(Object.defineProperty(obj,"name",{enumerable:!1,configurable:!0,writable:!1,value:nameValue}),!0)}function defaultVisit(ctx,param){for(var childrenNames=Object(utils.G)(ctx),childrenNamesLength=childrenNames.length,i=0;i<childrenNamesLength;i++)for(var currChildArray=ctx[childrenNames[i]],currChildArrayLength=currChildArray.length,j=0;j<currChildArrayLength;j++){var currChild=currChildArray[j];void 0===currChild.tokenTypeIdx&&this[currChild.name](currChild.children,param)}}function createBaseSemanticVisitorConstructor(grammarName,ruleNames){var derivedConstructor=function(){};return defineNameProp(derivedConstructor,grammarName+"BaseSemantics"),(derivedConstructor.prototype={visit:function(cstNode,param){if(Object(utils.y)(cstNode)&&(cstNode=cstNode[0]),!Object(utils.F)(cstNode))return this[cstNode.name](cstNode.children,param)},validateVisitor:function(){var semanticDefinitionErrors=function validateVisitor(visitorInstance,ruleNames){var missingErrors=function validateMissingCstMethods(visitorInstance,ruleNames){var errors=Object(utils.I)(ruleNames,(function(currRuleName){if(!Object(utils.B)(visitorInstance[currRuleName]))return{msg:"Missing visitor method: <"+currRuleName+"> on "+functionName(visitorInstance.constructor)+" CST Visitor.",type:CstVisitorDefinitionError.MISSING_METHOD,methodName:currRuleName}}));return Object(utils.i)(errors)}(visitorInstance,ruleNames),redundantErrors=function validateRedundantMethods(visitorInstance,ruleNames){var errors=[];for(var prop in visitorInstance)validTermsPattern.test(prop)&&Object(utils.B)(visitorInstance[prop])&&!Object(utils.j)(VALID_PROP_NAMES,prop)&&!Object(utils.j)(ruleNames,prop)&&errors.push({msg:"Redundant visitor method: <"+prop+"> on "+functionName(visitorInstance.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+validTermsPattern.source+"/.",type:CstVisitorDefinitionError.REDUNDANT_METHOD,methodName:prop});return errors}(visitorInstance,ruleNames);return missingErrors.concat(redundantErrors)}(this,ruleNames);if(!Object(utils.A)(semanticDefinitionErrors)){var errorMessages=Object(utils.I)(semanticDefinitionErrors,(function(currDefError){return currDefError.msg}));throw Error("Errors Detected in CST Visitor <"+functionName(this.constructor)+">:\n\t"+errorMessages.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=derivedConstructor,derivedConstructor._RULE_NAMES=ruleNames,derivedConstructor}!function(CstVisitorDefinitionError){CstVisitorDefinitionError[CstVisitorDefinitionError.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",CstVisitorDefinitionError[CstVisitorDefinitionError.MISSING_METHOD=1]="MISSING_METHOD"}(CstVisitorDefinitionError||(CstVisitorDefinitionError={}));var VALID_PROP_NAMES=["constructor","visit","validateVisitor"];var tree_builder_TreeBuilder=function(){function TreeBuilder(){}return TreeBuilder.prototype.initTreeBuilder=function(config){if(this.CST_STACK=[],this.outputCst=config.outputCst,this.nodeLocationTracking=Object(utils.w)(config,"nodeLocationTracking")?config.nodeLocationTracking:DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationFull,this.setNodeLocationFromNode=setNodeLocationFull,this.cstPostRule=utils.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationOnlyOffset,this.setNodeLocationFromNode=setNodeLocationOnlyOffset,this.cstPostRule=utils.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+config.nodeLocationTracking+'"');this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=utils.b,this.setInitialNodeLocation=utils.b}else this.cstInvocationStateUpdate=utils.b,this.cstFinallyStateUpdate=utils.b,this.cstPostTerminal=utils.b,this.cstPostNonTerminal=utils.b,this.cstPostRule=utils.b},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(cstNode){cstNode.location={startOffset:NaN,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRegular=function(cstNode){cstNode.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRecovery=function(cstNode){cstNode.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRegular=function(cstNode){var nextToken=this.LA(1);cstNode.location={startOffset:nextToken.startOffset,startLine:nextToken.startLine,startColumn:nextToken.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.cstInvocationStateUpdate=function(fullRuleName,shortName){var cstNode={name:fullRuleName,children:{}};this.setInitialNodeLocation(cstNode),this.CST_STACK.push(cstNode)},TreeBuilder.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},TreeBuilder.prototype.cstPostRuleFull=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==!0?(loc.endOffset=prevToken.endOffset,loc.endLine=prevToken.endLine,loc.endColumn=prevToken.endColumn):(loc.startOffset=NaN,loc.startLine=NaN,loc.startColumn=NaN)},TreeBuilder.prototype.cstPostRuleOnlyOffset=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==!0?loc.endOffset=prevToken.endOffset:loc.startOffset=NaN},TreeBuilder.prototype.cstPostTerminal=function(key,consumedToken){var rootCst=this.CST_STACK[this.CST_STACK.length-1];!function addTerminalToCst(node,token,tokenTypeName){void 0===node.children[tokenTypeName]?node.children[tokenTypeName]=[token]:node.children[tokenTypeName].push(token)}(rootCst,consumedToken,key),this.setNodeLocationFromToken(rootCst.location,consumedToken)},TreeBuilder.prototype.cstPostNonTerminal=function(ruleCstResult,ruleName){var preCstNode=this.CST_STACK[this.CST_STACK.length-1];!function addNoneTerminalToCst(node,ruleName,ruleResult){void 0===node.children[ruleName]?node.children[ruleName]=[ruleResult]:node.children[ruleName].push(ruleResult)}(preCstNode,ruleName,ruleCstResult),this.setNodeLocationFromNode(preCstNode.location,ruleCstResult.location)},TreeBuilder.prototype.getBaseCstVisitorConstructor=function(){if(Object(utils.F)(this.baseCstVisitorConstructor)){var newBaseCstVisitorConstructor=createBaseSemanticVisitorConstructor(this.className,Object(utils.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=newBaseCstVisitorConstructor,newBaseCstVisitorConstructor}return this.baseCstVisitorConstructor},TreeBuilder.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(utils.F)(this.baseCstVisitorWithDefaultsConstructor)){var newConstructor=function createBaseVisitorConstructorWithDefaults(grammarName,ruleNames,baseConstructor){var derivedConstructor=function(){};defineNameProp(derivedConstructor,grammarName+"BaseSemanticsWithDefaults");var withDefaultsProto=Object.create(baseConstructor.prototype);return Object(utils.u)(ruleNames,(function(ruleName){withDefaultsProto[ruleName]=defaultVisit})),(derivedConstructor.prototype=withDefaultsProto).constructor=derivedConstructor,derivedConstructor}(this.className,Object(utils.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=newConstructor,newConstructor}return this.baseCstVisitorWithDefaultsConstructor},TreeBuilder.prototype.getLastExplicitRuleShortName=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-1]},TreeBuilder.prototype.getPreviousExplicitRuleShortName=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-2]},TreeBuilder.prototype.getLastExplicitRuleOccurrenceIndex=function(){var occurrenceStack=this.RULE_OCCURRENCE_STACK;return occurrenceStack[occurrenceStack.length-1]},TreeBuilder}(),lexer_adapter_LexerAdapter=function(){function LexerAdapter(){}return LexerAdapter.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(LexerAdapter.prototype,"input",{get:function(){return this.tokVector},set:function(newInput){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=newInput,this.tokVectorLength=newInput.length},enumerable:!0,configurable:!0}),LexerAdapter.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):END_OF_FILE},LexerAdapter.prototype.LA=function(howMuch){var soughtIdx=this.currIdx+howMuch;return soughtIdx<0||this.tokVectorLength<=soughtIdx?END_OF_FILE:this.tokVector[soughtIdx]},LexerAdapter.prototype.consumeToken=function(){this.currIdx++},LexerAdapter.prototype.exportLexerState=function(){return this.currIdx},LexerAdapter.prototype.importLexerState=function(newState){this.currIdx=newState},LexerAdapter.prototype.resetLexerState=function(){this.currIdx=-1},LexerAdapter.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},LexerAdapter.prototype.getLexerPosition=function(){return this.exportLexerState()},LexerAdapter}(),recognizer_api_RecognizerApi=function(){function RecognizerApi(){}return RecognizerApi.prototype.ACTION=function(impl){return impl.call(this)},RecognizerApi.prototype.consume=function(idx,tokType,options){return this.consumeInternal(tokType,idx,options)},RecognizerApi.prototype.subrule=function(idx,ruleToCall,options){return this.subruleInternal(ruleToCall,idx,options)},RecognizerApi.prototype.option=function(idx,actionORMethodDef){return this.optionInternal(actionORMethodDef,idx)},RecognizerApi.prototype.or=function(idx,altsOrOpts){return this.orInternal(altsOrOpts,idx)},RecognizerApi.prototype.many=function(idx,actionORMethodDef){return this.manyInternal(idx,actionORMethodDef)},RecognizerApi.prototype.atLeastOne=function(idx,actionORMethodDef){return this.atLeastOneInternal(idx,actionORMethodDef)},RecognizerApi.prototype.CONSUME=function(tokType,options){return this.consumeInternal(tokType,0,options)},RecognizerApi.prototype.CONSUME1=function(tokType,options){return this.consumeInternal(tokType,1,options)},RecognizerApi.prototype.CONSUME2=function(tokType,options){return this.consumeInternal(tokType,2,options)},RecognizerApi.prototype.CONSUME3=function(tokType,options){return this.consumeInternal(tokType,3,options)},RecognizerApi.prototype.CONSUME4=function(tokType,options){return this.consumeInternal(tokType,4,options)},RecognizerApi.prototype.CONSUME5=function(tokType,options){return this.consumeInternal(tokType,5,options)},RecognizerApi.prototype.CONSUME6=function(tokType,options){return this.consumeInternal(tokType,6,options)},RecognizerApi.prototype.CONSUME7=function(tokType,options){return this.consumeInternal(tokType,7,options)},RecognizerApi.prototype.CONSUME8=function(tokType,options){return this.consumeInternal(tokType,8,options)},RecognizerApi.prototype.CONSUME9=function(tokType,options){return this.consumeInternal(tokType,9,options)},RecognizerApi.prototype.SUBRULE=function(ruleToCall,options){return this.subruleInternal(ruleToCall,0,options)},RecognizerApi.prototype.SUBRULE1=function(ruleToCall,options){return this.subruleInternal(ruleToCall,1,options)},RecognizerApi.prototype.SUBRULE2=function(ruleToCall,options){return this.subruleInternal(ruleToCall,2,options)},RecognizerApi.prototype.SUBRULE3=function(ruleToCall,options){return this.subruleInternal(ruleToCall,3,options)},RecognizerApi.prototype.SUBRULE4=function(ruleToCall,options){return this.subruleInternal(ruleToCall,4,options)},RecognizerApi.prototype.SUBRULE5=function(ruleToCall,options){return this.subruleInternal(ruleToCall,5,options)},RecognizerApi.prototype.SUBRULE6=function(ruleToCall,options){return this.subruleInternal(ruleToCall,6,options)},RecognizerApi.prototype.SUBRULE7=function(ruleToCall,options){return this.subruleInternal(ruleToCall,7,options)},RecognizerApi.prototype.SUBRULE8=function(ruleToCall,options){return this.subruleInternal(ruleToCall,8,options)},RecognizerApi.prototype.SUBRULE9=function(ruleToCall,options){return this.subruleInternal(ruleToCall,9,options)},RecognizerApi.prototype.OPTION=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,0)},RecognizerApi.prototype.OPTION1=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,1)},RecognizerApi.prototype.OPTION2=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,2)},RecognizerApi.prototype.OPTION3=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,3)},RecognizerApi.prototype.OPTION4=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,4)},RecognizerApi.prototype.OPTION5=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,5)},RecognizerApi.prototype.OPTION6=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,6)},RecognizerApi.prototype.OPTION7=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,7)},RecognizerApi.prototype.OPTION8=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,8)},RecognizerApi.prototype.OPTION9=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,9)},RecognizerApi.prototype.OR=function(altsOrOpts){return this.orInternal(altsOrOpts,0)},RecognizerApi.prototype.OR1=function(altsOrOpts){return this.orInternal(altsOrOpts,1)},RecognizerApi.prototype.OR2=function(altsOrOpts){return this.orInternal(altsOrOpts,2)},RecognizerApi.prototype.OR3=function(altsOrOpts){return this.orInternal(altsOrOpts,3)},RecognizerApi.prototype.OR4=function(altsOrOpts){return this.orInternal(altsOrOpts,4)},RecognizerApi.prototype.OR5=function(altsOrOpts){return this.orInternal(altsOrOpts,5)},RecognizerApi.prototype.OR6=function(altsOrOpts){return this.orInternal(altsOrOpts,6)},RecognizerApi.prototype.OR7=function(altsOrOpts){return this.orInternal(altsOrOpts,7)},RecognizerApi.prototype.OR8=function(altsOrOpts){return this.orInternal(altsOrOpts,8)},RecognizerApi.prototype.OR9=function(altsOrOpts){return this.orInternal(altsOrOpts,9)},RecognizerApi.prototype.MANY=function(actionORMethodDef){this.manyInternal(0,actionORMethodDef)},RecognizerApi.prototype.MANY1=function(actionORMethodDef){this.manyInternal(1,actionORMethodDef)},RecognizerApi.prototype.MANY2=function(actionORMethodDef){this.manyInternal(2,actionORMethodDef)},RecognizerApi.prototype.MANY3=function(actionORMethodDef){this.manyInternal(3,actionORMethodDef)},RecognizerApi.prototype.MANY4=function(actionORMethodDef){this.manyInternal(4,actionORMethodDef)},RecognizerApi.prototype.MANY5=function(actionORMethodDef){this.manyInternal(5,actionORMethodDef)},RecognizerApi.prototype.MANY6=function(actionORMethodDef){this.manyInternal(6,actionORMethodDef)},RecognizerApi.prototype.MANY7=function(actionORMethodDef){this.manyInternal(7,actionORMethodDef)},RecognizerApi.prototype.MANY8=function(actionORMethodDef){this.manyInternal(8,actionORMethodDef)},RecognizerApi.prototype.MANY9=function(actionORMethodDef){this.manyInternal(9,actionORMethodDef)},RecognizerApi.prototype.MANY_SEP=function(options){this.manySepFirstInternal(0,options)},RecognizerApi.prototype.MANY_SEP1=function(options){this.manySepFirstInternal(1,options)},RecognizerApi.prototype.MANY_SEP2=function(options){this.manySepFirstInternal(2,options)},RecognizerApi.prototype.MANY_SEP3=function(options){this.manySepFirstInternal(3,options)},RecognizerApi.prototype.MANY_SEP4=function(options){this.manySepFirstInternal(4,options)},RecognizerApi.prototype.MANY_SEP5=function(options){this.manySepFirstInternal(5,options)},RecognizerApi.prototype.MANY_SEP6=function(options){this.manySepFirstInternal(6,options)},RecognizerApi.prototype.MANY_SEP7=function(options){this.manySepFirstInternal(7,options)},RecognizerApi.prototype.MANY_SEP8=function(options){this.manySepFirstInternal(8,options)},RecognizerApi.prototype.MANY_SEP9=function(options){this.manySepFirstInternal(9,options)},RecognizerApi.prototype.AT_LEAST_ONE=function(actionORMethodDef){this.atLeastOneInternal(0,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE1=function(actionORMethodDef){return this.atLeastOneInternal(1,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE2=function(actionORMethodDef){this.atLeastOneInternal(2,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE3=function(actionORMethodDef){this.atLeastOneInternal(3,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE4=function(actionORMethodDef){this.atLeastOneInternal(4,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE5=function(actionORMethodDef){this.atLeastOneInternal(5,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE6=function(actionORMethodDef){this.atLeastOneInternal(6,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE7=function(actionORMethodDef){this.atLeastOneInternal(7,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE8=function(actionORMethodDef){this.atLeastOneInternal(8,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE9=function(actionORMethodDef){this.atLeastOneInternal(9,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE_SEP=function(options){this.atLeastOneSepFirstInternal(0,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP1=function(options){this.atLeastOneSepFirstInternal(1,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP2=function(options){this.atLeastOneSepFirstInternal(2,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP3=function(options){this.atLeastOneSepFirstInternal(3,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP4=function(options){this.atLeastOneSepFirstInternal(4,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP5=function(options){this.atLeastOneSepFirstInternal(5,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP6=function(options){this.atLeastOneSepFirstInternal(6,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP7=function(options){this.atLeastOneSepFirstInternal(7,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP8=function(options){this.atLeastOneSepFirstInternal(8,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP9=function(options){this.atLeastOneSepFirstInternal(9,options)},RecognizerApi.prototype.RULE=function(name,implementation,config){if(void 0===config&&(config=DEFAULT_RULE_CONFIG),Object(utils.j)(this.definedRulesNames,name)){var error={message:defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:name,grammarName:this.className}),type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:name};this.definitionErrors.push(error)}this.definedRulesNames.push(name);var ruleImplementation=this.defineRule(name,implementation,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.OVERRIDE_RULE=function(name,impl,config){void 0===config&&(config=DEFAULT_RULE_CONFIG);var ruleErrors=[];ruleErrors=ruleErrors.concat(function validateRuleIsOverridden(ruleName,definedRulesNames,className){var errMsg,errors=[];return utils.j(definedRulesNames,ruleName)||(errMsg="Invalid rule override, rule: ->"+ruleName+"<- cannot be overridden in the grammar: ->"+className+"<-as it is not defined in any of the super grammars ",errors.push({message:errMsg,type:ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:ruleName})),errors}(name,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,ruleErrors);var ruleImplementation=this.defineRule(name,impl,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.BACKTRACK=function(grammarRule,args){return function(){this.isBackTrackingStack.push(1);var orgState=this.saveRecogState();try{return grammarRule.apply(this,args),!0}catch(e){if(isRecognitionException(e))return!1;throw e}finally{this.reloadRecogState(orgState),this.isBackTrackingStack.pop()}}},RecognizerApi.prototype.getGAstProductions=function(){return this.gastProductionsCache},RecognizerApi.prototype.getSerializedGastProductions=function(){return serializeGrammar(Object(utils.U)(this.gastProductionsCache))},RecognizerApi}(),recognizer_engine_RecognizerEngine=function(){function RecognizerEngine(){}return RecognizerEngine.prototype.initRecognizerEngine=function(tokenVocabulary,config){if(this.className=function classNameFromInstance(instance){return functionName(instance.constructor)}(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(utils.w)(config,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(utils.y)(tokenVocabulary)){if(Object(utils.A)(tokenVocabulary))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof tokenVocabulary[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(utils.y)(tokenVocabulary))this.tokensMap=Object(utils.O)(tokenVocabulary,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{});else if(Object(utils.w)(tokenVocabulary,"modes")&&Object(utils.o)(Object(utils.t)(Object(utils.U)(tokenVocabulary.modes)),isTokenType)){var allTokenTypes=Object(utils.t)(Object(utils.U)(tokenVocabulary.modes)),uniqueTokens=Object(utils.T)(allTokenTypes);this.tokensMap=Object(utils.O)(uniqueTokens,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{})}else{if(!Object(utils.C)(tokenVocabulary))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(utils.h)(tokenVocabulary)}this.tokensMap.EOF=EOF;var noTokenCategoriesUsed=Object(utils.o)(Object(utils.U)(tokenVocabulary),(function(tokenConstructor){return Object(utils.A)(tokenConstructor.categoryMatches)}));this.tokenMatcher=noTokenCategoriesUsed?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,augmentTokenTypes(Object(utils.U)(this.tokensMap))},RecognizerEngine.prototype.defineRule=function(ruleName,impl,config){if(this.selfAnalysisDone)throw Error("Grammar rule <"+ruleName+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var wrappedGrammarRule,resyncEnabled=Object(utils.w)(config,"resyncEnabled")?config.resyncEnabled:DEFAULT_RULE_CONFIG.resyncEnabled,recoveryValueFunc=Object(utils.w)(config,"recoveryValueFunc")?config.recoveryValueFunc:DEFAULT_RULE_CONFIG.recoveryValueFunc,shortName=this.ruleShortNameIdx<<12;function invokeRuleWithTry(args){try{if(!0===this.outputCst){impl.apply(this,args);var cst=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(cst),cst}return impl.apply(this,args)}catch(e){return this.invokeRuleCatch(e,resyncEnabled,recoveryValueFunc)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[shortName]=ruleName,this.fullRuleNameToShort[ruleName]=shortName;return(wrappedGrammarRule=function(idxInCallingRule,args){return void 0===idxInCallingRule&&(idxInCallingRule=0),this.ruleInvocationStateUpdate(shortName,ruleName,idxInCallingRule),invokeRuleWithTry.call(this,args)}).ruleName=ruleName,wrappedGrammarRule.originalGrammarAction=impl,wrappedGrammarRule},RecognizerEngine.prototype.invokeRuleCatch=function(e,resyncEnabledConfig,recoveryValueFunc){var isFirstInvokedRule=1===this.RULE_STACK.length,reSyncEnabled=resyncEnabledConfig&&!this.isBackTracking()&&this.recoveryEnabled;if(isRecognitionException(e)){var recogError=e;if(reSyncEnabled){var partialCstResult,reSyncTokType=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(reSyncTokType))return recogError.resyncedTokens=this.reSyncTo(reSyncTokType),this.outputCst?((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,partialCstResult):recoveryValueFunc();throw this.outputCst&&((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,recogError.partialCstResult=partialCstResult),recogError}if(isFirstInvokedRule)return this.moveToTerminatedState(),recoveryValueFunc();throw recogError}throw e},RecognizerEngine.prototype.optionInternal=function(actionORMethodDef,occurrence){var key=this.getKeyForAutomaticLookahead(512,occurrence);return this.optionInternalLogic(actionORMethodDef,occurrence,key)},RecognizerEngine.prototype.optionInternalLogic=function(actionORMethodDef,occurrence,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_1=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_1.call(_this)}}}else action=actionORMethodDef;if(!0===lookAheadFunc.call(this))return action.call(this)},RecognizerEngine.prototype.atLeastOneInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(1024,prodOccurrence);return this.atLeastOneInternalLogic(prodOccurrence,actionORMethodDef,laKey)},RecognizerEngine.prototype.atLeastOneInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_2=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_2.call(_this)}}}else action=actionORMethodDef;if(!0!==lookAheadFunc.call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY,actionORMethodDef.ERR_MSG);for(var notStuck=this.doSingleRepetition(action);!0===lookAheadFunc.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[prodOccurrence,actionORMethodDef],lookAheadFunc,1024,prodOccurrence,interpreter_NextTerminalAfterAtLeastOneWalker)},RecognizerEngine.prototype.atLeastOneSepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1536,prodOccurrence);this.atLeastOneSepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.atLeastOneSepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0!==this.getLaFuncFromCache(key).call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,options.ERR_MSG);action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,interpreter_NextTerminalAfterAtLeastOneSepWalker],separatorLookAheadFunc,1536,prodOccurrence,interpreter_NextTerminalAfterAtLeastOneSepWalker)},RecognizerEngine.prototype.manyInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(768,prodOccurrence);return this.manyInternalLogic(prodOccurrence,actionORMethodDef,laKey)},RecognizerEngine.prototype.manyInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookaheadFunction=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_3=lookaheadFunction;lookaheadFunction=function(){return predicate.call(_this)&&orgLookaheadFunction_3.call(_this)}}}else action=actionORMethodDef;for(var notStuck=!0;!0===lookaheadFunction.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.manyInternal,[prodOccurrence,actionORMethodDef],lookaheadFunction,768,prodOccurrence,interpreter_NextTerminalAfterManyWalker,notStuck)},RecognizerEngine.prototype.manySepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1280,prodOccurrence);this.manySepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.manySepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0===this.getLaFuncFromCache(key).call(this)){action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,interpreter_NextTerminalAfterManySepWalker],separatorLookAheadFunc,1280,prodOccurrence,interpreter_NextTerminalAfterManySepWalker)}},RecognizerEngine.prototype.repetitionSepSecondInternal=function(prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker){for(;separatorLookAheadFunc();)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker],separatorLookAheadFunc,1536,prodOccurrence,nextTerminalAfterWalker)},RecognizerEngine.prototype.doSingleRepetition=function(action){var beforeIteration=this.getLexerPosition();return action.call(this),this.getLexerPosition()>beforeIteration},RecognizerEngine.prototype.orInternal=function(altsOrOpts,occurrence){var laKey=this.getKeyForAutomaticLookahead(256,occurrence),alts=Object(utils.y)(altsOrOpts)?altsOrOpts:altsOrOpts.DEF,altIdxToTake=this.getLaFuncFromCache(laKey).call(this,alts);if(void 0!==altIdxToTake)return alts[altIdxToTake].ALT.call(this);this.raiseNoAltException(occurrence,altsOrOpts.ERR_MSG)},RecognizerEngine.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var firstRedundantTok=this.LA(1),errMsg=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:firstRedundantTok,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new NotAllInputParsedException(errMsg,firstRedundantTok))}},RecognizerEngine.prototype.subruleInternal=function(ruleToCall,idx,options){var ruleResult;try{var args=void 0!==options?options.ARGS:void 0;return ruleResult=ruleToCall.call(this,idx,args),this.cstPostNonTerminal(ruleResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleToCall.ruleName),ruleResult}catch(e){this.subruleInternalError(e,options,ruleToCall.ruleName)}},RecognizerEngine.prototype.subruleInternalError=function(e,options,ruleName){throw isRecognitionException(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleName),delete e.partialCstResult),e},RecognizerEngine.prototype.consumeInternal=function(tokType,idx,options){var consumedToken;try{var nextToken=this.LA(1);!0===this.tokenMatcher(nextToken,tokType)?(this.consumeToken(),consumedToken=nextToken):this.consumeInternalError(tokType,nextToken,options)}catch(eFromConsumption){consumedToken=this.consumeInternalRecovery(tokType,idx,eFromConsumption)}return this.cstPostTerminal(void 0!==options&&void 0!==options.LABEL?options.LABEL:tokType.name,consumedToken),consumedToken},RecognizerEngine.prototype.consumeInternalError=function(tokType,nextToken,options){var msg,previousToken=this.LA(0);throw msg=void 0!==options&&options.ERR_MSG?options.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:tokType,actual:nextToken,previous:previousToken,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new MismatchedTokenException(msg,nextToken,previousToken))},RecognizerEngine.prototype.consumeInternalRecovery=function(tokType,idx,eFromConsumption){if(!this.recoveryEnabled||"MismatchedTokenException"!==eFromConsumption.name||this.isBackTracking())throw eFromConsumption;var follows=this.getFollowsForInRuleRecovery(tokType,idx);try{return this.tryInRuleRecovery(tokType,follows)}catch(eFromInRuleRecovery){throw"InRuleRecoveryException"===eFromInRuleRecovery.name?eFromConsumption:eFromInRuleRecovery}},RecognizerEngine.prototype.saveRecogState=function(){var savedErrors=this.errors,savedRuleStack=Object(utils.g)(this.RULE_STACK);return{errors:savedErrors,lexerState:this.exportLexerState(),RULE_STACK:savedRuleStack,CST_STACK:this.CST_STACK}},RecognizerEngine.prototype.reloadRecogState=function(newState){this.errors=newState.errors,this.importLexerState(newState.lexerState),this.RULE_STACK=newState.RULE_STACK},RecognizerEngine.prototype.ruleInvocationStateUpdate=function(shortName,fullName,idxInCallingRule){this.RULE_OCCURRENCE_STACK.push(idxInCallingRule),this.RULE_STACK.push(shortName),this.cstInvocationStateUpdate(fullName,shortName)},RecognizerEngine.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},RecognizerEngine.prototype.getCurrRuleFullName=function(){var shortName=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.shortRuleNameToFullName=function(shortName){return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),EOF)},RecognizerEngine.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},RecognizerEngine}(),error_handler_ErrorHandler=function(){function ErrorHandler(){}return ErrorHandler.prototype.initErrorHandler=function(config){this._errors=[],this.errorMessageProvider=Object(utils.w)(config,"errorMessageProvider")?config.errorMessageProvider:DEFAULT_PARSER_CONFIG.errorMessageProvider},ErrorHandler.prototype.SAVE_ERROR=function(error){if(isRecognitionException(error))return error.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(utils.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(error),error;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(ErrorHandler.prototype,"errors",{get:function(){return Object(utils.g)(this._errors)},set:function(newErrors){this._errors=newErrors},enumerable:!0,configurable:!0}),ErrorHandler.prototype.raiseEarlyExitException=function(occurrence,prodType,userDefinedErrMsg){for(var ruleName=this.getCurrRuleFullName(),insideProdPaths=getLookaheadPathsForOptionalProd(occurrence,this.getGAstProductions()[ruleName],prodType,this.maxLookahead)[0],actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var msg=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:insideProdPaths,actual:actualTokens,previous:this.LA(0),customUserDescription:userDefinedErrMsg,ruleName:ruleName});throw this.SAVE_ERROR(new EarlyExitException(msg,this.LA(1),this.LA(0)))},ErrorHandler.prototype.raiseNoAltException=function(occurrence,errMsgTypes){for(var ruleName=this.getCurrRuleFullName(),lookAheadPathsPerAlternative=getLookaheadPathsForOr(occurrence,this.getGAstProductions()[ruleName],this.maxLookahead),actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var previousToken=this.LA(0),errMsg=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:lookAheadPathsPerAlternative,actual:actualTokens,previous:previousToken,customUserDescription:errMsgTypes,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new NoViableAltException(errMsg,this.LA(1),previousToken))},ErrorHandler}(),context_assist_ContentAssist=function(){function ContentAssist(){}return ContentAssist.prototype.initContentAssist=function(){},ContentAssist.prototype.computeContentAssist=function(startRuleName,precedingInput){var startRuleGast=this.gastProductionsCache[startRuleName];if(Object(utils.F)(startRuleGast))throw Error("Rule ->"+startRuleName+"<- does not exist in this grammar.");return nextPossibleTokensAfter([startRuleGast],precedingInput,this.tokenMatcher,this.maxLookahead)},ContentAssist.prototype.getNextPossibleTokenTypes=function(grammarPath){var topRuleName=Object(utils.s)(grammarPath.ruleStack),topProduction=this.getGAstProductions()[topRuleName];return new interpreter_NextAfterTokenWalker(topProduction,grammarPath).startWalking()},ContentAssist}(),RECORDING_NULL_OBJECT={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(RECORDING_NULL_OBJECT);var MAX_METHOD_IDX=Math.pow(2,8)-1,RFT=createToken({name:"RECORDING_PHASE_TOKEN",pattern:lexer_public_Lexer.NA});augmentTokenTypes([RFT]);var RECORDING_PHASE_TOKEN=createTokenInstance(RFT,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(RECORDING_PHASE_TOKEN);var RECORDING_PHASE_CSTNODE={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},gast_recorder_GastRecorder=function(){function GastRecorder(){}return GastRecorder.prototype.initGastRecorder=function(config){this.recordingProdStack=[],this.RECORDING_PHASE=!1},GastRecorder.prototype.enableRecording=function(){var _this=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var _loop_1=function(i){var idx=i>0?i:"";_this["CONSUME"+idx]=function(arg1,arg2){return this.consumeInternalRecord(arg1,i,arg2)},_this["SUBRULE"+idx]=function(arg1,arg2){return this.subruleInternalRecord(arg1,i,arg2)},_this["OPTION"+idx]=function(arg1){return this.optionInternalRecord(arg1,i)},_this["OR"+idx]=function(arg1){return this.orInternalRecord(arg1,i)},_this["MANY"+idx]=function(arg1){this.manyInternalRecord(i,arg1)},_this["MANY_SEP"+idx]=function(arg1){this.manySepFirstInternalRecord(i,arg1)},_this["AT_LEAST_ONE"+idx]=function(arg1){this.atLeastOneInternalRecord(i,arg1)},_this["AT_LEAST_ONE_SEP"+idx]=function(arg1){this.atLeastOneSepFirstInternalRecord(i,arg1)}},i=0;i<10;i++)_loop_1(i);_this.consume=function(idx,arg1,arg2){return this.consumeInternalRecord(arg1,idx,arg2)},_this.subrule=function(idx,arg1,arg2){return this.subruleInternalRecord(arg1,idx,arg2)},_this.option=function(idx,arg1){return this.optionInternalRecord(arg1,idx)},_this.or=function(idx,arg1){return this.orInternalRecord(arg1,idx)},_this.many=function(idx,arg1){this.manyInternalRecord(idx,arg1)},_this.atLeastOne=function(idx,arg1){this.atLeastOneInternalRecord(idx,arg1)},_this.ACTION=_this.ACTION_RECORD,_this.BACKTRACK=_this.BACKTRACK_RECORD,_this.LA=_this.LA_RECORD}))},GastRecorder.prototype.disableRecording=function(){var _this=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var i=0;i<10;i++){var idx=i>0?i:"";delete _this["CONSUME"+idx],delete _this["SUBRULE"+idx],delete _this["OPTION"+idx],delete _this["OR"+idx],delete _this["MANY"+idx],delete _this["MANY_SEP"+idx],delete _this["AT_LEAST_ONE"+idx],delete _this["AT_LEAST_ONE_SEP"+idx]}delete _this.consume,delete _this.subrule,delete _this.option,delete _this.or,delete _this.many,delete _this.atLeastOne,delete _this.ACTION,delete _this.BACKTRACK,delete _this.LA}))},GastRecorder.prototype.ACTION_RECORD=function(impl){},GastRecorder.prototype.BACKTRACK_RECORD=function(grammarRule,args){return function(){return!0}},GastRecorder.prototype.LA_RECORD=function(howMuch){return END_OF_FILE},GastRecorder.prototype.topLevelRuleRecord=function(name,def){try{var newTopLevelRule=new gast_public_Rule({definition:[],name:name});return newTopLevelRule.name=name,this.recordingProdStack.push(newTopLevelRule),def.call(this),this.recordingProdStack.pop(),newTopLevelRule}catch(originalError){if(!0!==originalError.KNOWN_RECORDER_ERROR)try{originalError.message=originalError.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(mutabilityError){throw originalError}throw originalError}},GastRecorder.prototype.optionInternalRecord=function(actionORMethodDef,occurrence){return recordProd.call(this,gast_public_Option,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,gast_public_RepetitionMandatory,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneSepFirstInternalRecord=function(occurrence,options){recordProd.call(this,gast_public_RepetitionMandatoryWithSeparator,options,occurrence,!0)},GastRecorder.prototype.manyInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,gast_public_Repetition,actionORMethodDef,occurrence)},GastRecorder.prototype.manySepFirstInternalRecord=function(occurrence,options){recordProd.call(this,gast_public_RepetitionWithSeparator,options,occurrence,!0)},GastRecorder.prototype.orInternalRecord=function(altsOrOpts,occurrence){return recordOrProd.call(this,altsOrOpts,occurrence)},GastRecorder.prototype.subruleInternalRecord=function(ruleToCall,occurrence,options){if(assertMethodIdxIsValid(occurrence),!ruleToCall||!1===Object(utils.w)(ruleToCall,"ruleName")){var error=new Error("<SUBRULE"+getIdxSuffix(occurrence)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(ruleToCall)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=Object(utils.M)(this.recordingProdStack),ruleName=ruleToCall.ruleName,newNoneTerminal=new gast_public_NonTerminal({idx:occurrence,nonTerminalName:ruleName,referencedRule:void 0});return prevProd.definition.push(newNoneTerminal),this.outputCst?RECORDING_PHASE_CSTNODE:RECORDING_NULL_OBJECT},GastRecorder.prototype.consumeInternalRecord=function(tokType,occurrence,options){if(assertMethodIdxIsValid(occurrence),!hasShortKeyProperty(tokType)){var error=new Error("<CONSUME"+getIdxSuffix(occurrence)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(tokType)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=Object(utils.M)(this.recordingProdStack),newNoneTerminal=new gast_public_Terminal({idx:occurrence,terminalType:tokType});return prevProd.definition.push(newNoneTerminal),RECORDING_PHASE_TOKEN},GastRecorder}();function recordProd(prodConstructor,mainProdArg,occurrence,handleSep){void 0===handleSep&&(handleSep=!1),assertMethodIdxIsValid(occurrence);var prevProd=Object(utils.M)(this.recordingProdStack),grammarAction=Object(utils.B)(mainProdArg)?mainProdArg:mainProdArg.DEF,newProd=new prodConstructor({definition:[],idx:occurrence});return handleSep&&(newProd.separator=mainProdArg.SEP),Object(utils.w)(mainProdArg,"MAX_LOOKAHEAD")&&(newProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD),this.recordingProdStack.push(newProd),grammarAction.call(this),prevProd.definition.push(newProd),this.recordingProdStack.pop(),RECORDING_NULL_OBJECT}function recordOrProd(mainProdArg,occurrence){var _this=this;assertMethodIdxIsValid(occurrence);var prevProd=Object(utils.M)(this.recordingProdStack),hasOptions=!1===Object(utils.y)(mainProdArg),alts=!1===hasOptions?mainProdArg:mainProdArg.DEF,newOrProd=new gast_public_Alternation({definition:[],idx:occurrence,ignoreAmbiguities:hasOptions&&!0===mainProdArg.IGNORE_AMBIGUITIES});Object(utils.w)(mainProdArg,"MAX_LOOKAHEAD")&&(newOrProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD);var hasPredicates=Object(utils.Q)(alts,(function(currAlt){return Object(utils.B)(currAlt.GATE)}));return newOrProd.hasPredicates=hasPredicates,prevProd.definition.push(newOrProd),Object(utils.u)(alts,(function(currAlt){var currAltFlat=new gast_public_Alternative({definition:[]});newOrProd.definition.push(currAltFlat),Object(utils.w)(currAlt,"IGNORE_AMBIGUITIES")?currAltFlat.ignoreAmbiguities=currAlt.IGNORE_AMBIGUITIES:Object(utils.w)(currAlt,"GATE")&&(currAltFlat.ignoreAmbiguities=!0),_this.recordingProdStack.push(currAltFlat),currAlt.ALT.call(_this),_this.recordingProdStack.pop()})),RECORDING_NULL_OBJECT}function getIdxSuffix(idx){return 0===idx?"":""+idx}function assertMethodIdxIsValid(idx){if(idx<0||idx>MAX_METHOD_IDX){var error=new Error("Invalid DSL Method idx value: <"+idx+">\n\tIdx value must be a none negative value smaller than "+(MAX_METHOD_IDX+1));throw error.KNOWN_RECORDER_ERROR=!0,error}}var perf_tracer_PerformanceTracer=function(){function PerformanceTracer(){}return PerformanceTracer.prototype.initPerformanceTracer=function(config){if(Object(utils.w)(config,"traceInitPerf")){var userTraceInitPerf=config.traceInitPerf,traceIsNumber="number"==typeof userTraceInitPerf;this.traceInitMaxIdent=traceIsNumber?userTraceInitPerf:1/0,this.traceInitPerf=traceIsNumber?userTraceInitPerf>0:userTraceInitPerf}else this.traceInitMaxIdent=0,this.traceInitPerf=DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},PerformanceTracer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+"--\x3e <"+phaseDesc+">");var _a=Object(utils.R)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+"<-- <"+phaseDesc+"> time: "+time+"ms"),this.traceInitIndent--,value}return phaseImpl()},PerformanceTracer}(),parser_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),END_OF_FILE=createTokenInstance(EOF,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(END_OF_FILE);var ParserDefinitionErrorType,DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function EMPTY_ALT(value){return void 0===value&&(value=void 0),function(){return value}}!function(ParserDefinitionErrorType){ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",ParserDefinitionErrorType[ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",ParserDefinitionErrorType[ParserDefinitionErrorType.LEFT_RECURSION=5]="LEFT_RECURSION",ParserDefinitionErrorType[ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",ParserDefinitionErrorType[ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",ParserDefinitionErrorType[ParserDefinitionErrorType.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(ParserDefinitionErrorType||(ParserDefinitionErrorType={}));var parser_Parser=function(){function Parser(tokenVocabulary,config){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(config),this.initLexerAdapter(),this.initLooksAhead(config),this.initRecognizerEngine(tokenVocabulary,config),this.initRecoverable(config),this.initTreeBuilder(config),this.initContentAssist(),this.initGastRecorder(config),this.initPerformanceTracer(config),Object(utils.w)(config,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(utils.w)(config,"skipValidations")?config.skipValidations:DEFAULT_PARSER_CONFIG.skipValidations}return Parser.performSelfAnalysis=function(parserInstance){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},Parser.prototype.performSelfAnalysis=function(){var _this=this;this.TRACE_INIT("performSelfAnalysis",(function(){var defErrorsMsgs;_this.selfAnalysisDone=!0;var className=_this.className;_this.TRACE_INIT("toFastProps",(function(){Object(utils.S)(_this)})),_this.TRACE_INIT("Grammar Recording",(function(){try{_this.enableRecording(),Object(utils.u)(_this.definedRulesNames,(function(currRuleName){var originalGrammarAction=_this[currRuleName].originalGrammarAction,recordedRuleGast=void 0;_this.TRACE_INIT(currRuleName+" Rule",(function(){recordedRuleGast=_this.topLevelRuleRecord(currRuleName,originalGrammarAction)})),_this.gastProductionsCache[currRuleName]=recordedRuleGast}))}finally{_this.disableRecording()}}));var resolverErrors=[];if(_this.TRACE_INIT("Grammar Resolving",(function(){resolverErrors=gast_resolver_public_resolveGrammar({rules:Object(utils.U)(_this.gastProductionsCache)}),_this.definitionErrors.push.apply(_this.definitionErrors,resolverErrors)})),_this.TRACE_INIT("Grammar Validations",(function(){if(Object(utils.A)(resolverErrors)&&!1===_this.skipValidations){var validationErrors=gast_resolver_public_validateGrammar({rules:Object(utils.U)(_this.gastProductionsCache),maxLookahead:_this.maxLookahead,tokenTypes:Object(utils.U)(_this.tokensMap),errMsgProvider:defaultGrammarValidatorErrorProvider,grammarName:className});_this.definitionErrors.push.apply(_this.definitionErrors,validationErrors)}})),Object(utils.A)(_this.definitionErrors)&&(_this.recoveryEnabled&&_this.TRACE_INIT("computeAllProdsFollows",(function(){var allFollows=function computeAllProdsFollows(topProductions){var reSyncFollows={};return Object(utils.u)(topProductions,(function(topProd){var currRefsFollow=new follow_ResyncFollowsWalker(topProd).startWalking();Object(utils.f)(reSyncFollows,currRefsFollow)})),reSyncFollows}(Object(utils.U)(_this.gastProductionsCache));_this.resyncFollows=allFollows})),_this.TRACE_INIT("ComputeLookaheadFunctions",(function(){_this.preComputeLookaheadFunctions(Object(utils.U)(_this.gastProductionsCache))}))),!Parser.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(utils.A)(_this.definitionErrors))throw defErrorsMsgs=Object(utils.I)(_this.definitionErrors,(function(defError){return defError.message})),new Error("Parser Definition Errors detected:\n "+defErrorsMsgs.join("\n-------------------------------\n"))}))},Parser.DEFER_DEFINITION_ERRORS_HANDLING=!1,Parser}();Object(utils.e)(parser_Parser,[recoverable_Recoverable,looksahead_LooksAhead,tree_builder_TreeBuilder,lexer_adapter_LexerAdapter,recognizer_engine_RecognizerEngine,recognizer_api_RecognizerApi,error_handler_ErrorHandler,context_assist_ContentAssist,gast_recorder_GastRecorder,perf_tracer_PerformanceTracer]);var parser_CstParser=function(_super){function CstParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=Object(utils.h)(config);return configClone.outputCst=!0,_super.call(this,tokenVocabulary,configClone)||this}return parser_extends(CstParser,_super),CstParser}(parser_Parser),parser_EmbeddedActionsParser=function(_super){function EmbeddedActionsParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=Object(utils.h)(config);return configClone.outputCst=!1,_super.call(this,tokenVocabulary,configClone)||this}return parser_extends(EmbeddedActionsParser,_super),EmbeddedActionsParser}(parser_Parser);function createSyntaxDiagramsCode(grammar,_a){var _b=void 0===_a?{}:_a,_c=_b.resourceBase,resourceBase=void 0===_c?"https://unpkg.com/chevrotain@"+VERSION+"/diagrams/":_c,_d=_b.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===_d?"https://unpkg.com/chevrotain@"+VERSION+"/diagrams/diagrams.css":_d)+"'>\n")+("\n<script src='"+resourceBase+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+resourceBase+"src/diagrams_builder.js'><\/script>\n<script src='"+resourceBase+"src/diagrams_behavior.js'><\/script>\n<script src='"+resourceBase+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(grammar,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var NL="\n";function genClass(options){return"\nfunction "+options.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+function genAllRules(rules){return Object(utils.I)(rules,(function(currRule){return function genRule(prod,n){var result=generate_indent(n,'$.RULE("'+prod.name+'", function() {')+NL;return result+=genDefinition(prod.definition,n+1),result+=generate_indent(n+1,"})")+NL}(currRule,1)})).join("\n")}(options.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+options.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+options.name+".prototype.constructor = "+options.name+"    \n    "}function genAlternation(prod,n){var result=generate_indent(n,"$.OR"+prod.idx+"([")+NL,alts=Object(utils.I)(prod.definition,(function(altDef){return function genSingleAlt(prod,n){var result=generate_indent(n,"{")+NL;return result+=generate_indent(n+1,"ALT: function() {")+NL,result+=genDefinition(prod.definition,n+1),result+=generate_indent(n+1,"}")+NL,result+=generate_indent(n,"}")}(altDef,n+1)}));return result+=alts.join(",\n"),result+=NL+generate_indent(n,"])\n")}function genProd(prod,n){if(prod instanceof gast_public_NonTerminal)return function genNonTerminal(prod,n){return generate_indent(n,"$.SUBRULE"+prod.idx+"($."+prod.nonTerminalName+")"+NL)}(prod,n);if(prod instanceof gast_public_Option)return genDSLRule("OPTION",prod,n);if(prod instanceof gast_public_RepetitionMandatory)return genDSLRule("AT_LEAST_ONE",prod,n);if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return genDSLRule("AT_LEAST_ONE_SEP",prod,n);if(prod instanceof gast_public_RepetitionWithSeparator)return genDSLRule("MANY_SEP",prod,n);if(prod instanceof gast_public_Repetition)return genDSLRule("MANY",prod,n);if(prod instanceof gast_public_Alternation)return genAlternation(prod,n);if(prod instanceof gast_public_Terminal)return function genTerminal(prod,n){var name=prod.terminalType.name;return generate_indent(n,"$.CONSUME"+prod.idx+"(this.tokensMap."+name+")"+NL)}(prod,n);if(prod instanceof gast_public_Alternative)return genDefinition(prod.definition,n);throw Error("non exhaustive match")}function genDSLRule(dslName,prod,n){var result=generate_indent(n,"$."+(dslName+prod.idx)+"(");return prod.separator?(result+="{\n",result+=generate_indent(n+1,"SEP: this.tokensMap."+prod.separator.name)+","+NL,result+="DEF: "+genDefFunction(prod.definition,n+2)+NL,result+=generate_indent(n,"}")+NL):result+=genDefFunction(prod.definition,n+1),result+=generate_indent(n,")")+NL}function genDefFunction(definition,n){var def="function() {\n";return def+=genDefinition(definition,n),def+=generate_indent(n,"}")+NL}function genDefinition(def,n){var result="";return Object(utils.u)(def,(function(prod){result+=genProd(prod,n+1)})),result}function generate_indent(howMuch,text){return Array(4*howMuch+1).join(" ")+text}function generateParserFactory(options){var wrapperText=function genWrapperFunction(options){return"    \n"+genClass(options)+"\nreturn new "+options.name+"(tokenVocabulary, config)    \n"}({name:options.name,rules:options.rules}),constructorWrapper=new Function("tokenVocabulary","config","chevrotain",wrapperText);return function(config){return constructorWrapper(options.tokenVocabulary,config,__webpack_require__(262))}}function generateParserModule(options){return function genUmdModule(options){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+genClass(options)+"\n    \nreturn {\n    "+options.name+": "+options.name+" \n}\n}));\n"}({name:options.name,rules:options.rules})}function clearCache(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var api_Parser=function Parser(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},511:function(module,exports,__webpack_require__){var cssKeywords=__webpack_require__(1006),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert[model]))throw new Error("missing channel labels property: "+model);if(convert[model].labels.length!==convert[model].channels)throw new Error("channel and label counts mismatch: "+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],"channels",{value:channels}),Object.defineProperty(convert[model],"labels",{value:labels})}convert.rgb.hsl=function(rgb){var h,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),(h=Math.min(60*h,360))<0&&(h+=360),l=(min+max)/2,[h,100*(max===min?0:l<=.5?delta/(max+min):delta/(2-max-min)),100*l]},convert.rgb.hsv=function(rgb){var rdif,gdif,bdif,h,s,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,v=Math.max(r,g,b),diff=v-Math.min(r,g,b),diffc=function(c){return(v-c)/6/diff+.5};return 0===diff?h=s=0:(s=diff/v,rdif=diffc(r),gdif=diffc(g),bdif=diffc(b),r===v?h=bdif-gdif:g===v?h=1/3+rdif-bdif:b===v&&(h=2/3+gdif-rdif),h<0?h+=1:h>1&&(h-=1)),[360*h,100*s,100*v]},convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2];return[convert.rgb.hsl(rgb)[0],100*(1/255*Math.min(r,Math.min(g,b))),100*(b=1-1/255*Math.max(r,Math.max(g,b)))]},convert.rgb.cmyk=function(rgb){var k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*((1-r-(k=Math.min(1-r,1-g,1-b)))/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-b-k)/(1-k)||0),100*k]},convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed)return reversed;var currentClosestKeyword,x,y,currentClosestDistance=1/0;for(var keyword in cssKeywords)if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword],distance=(x=rgb,y=value,Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2));distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)),100*(.2126*r+.7152*g+.0722*b),100*(.0193*r+.1192*g+.9505*b)]},convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.hsl.rgb=function(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0===s)return[val=255*l,val,val];t1=2*l-(t2=l<.5?l*(1+s):l+s-l*s),rgb=[0,0,0];for(var i=0;i<3;i++)(t3=h+1/3*-(i-1))<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=Math.max(l,.01);return s*=(l*=2)<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin,[h,100*(0===l?2*smin/(lmin+smin):2*s/(l+s)),100*((l+s)/2)]},convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){var lmin,sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);return l=(2-s)*v,sl=s*vmin,[h,100*(sl=(sl/=(lmin=(2-s)*vmin)<=1?lmin:2-lmin)||0),100*(l/=2)]},convert.hwb.rgb=function(hwb){var i,v,f,n,r,g,b,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),f=6*h-(i=Math.floor(6*h)),0!=(1&i)&&(f=1-f),n=wh+f*((v=1-bl)-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return[255*(1-Math.min(1,c*(1-k)+k)),255*(1-Math.min(1,m*(1-k)+k)),255*(1-Math.min(1,y*(1-k)+k))]},convert.xyz.rgb=function(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return g=-.9689*x+1.8758*y+.0415*z,b=.0557*x+-.204*y+1.057*z,r=(r=3.2406*x+-1.5372*y+-.4986*z)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*(r=Math.min(Math.max(0,r),1)),255*(g=Math.min(Math.max(0,g),1)),255*(b=Math.min(Math.max(0,b),1))]},convert.xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.lab.xyz=function(lab){var x,y,z,l=lab[0];x=lab[1]/500+(y=(l+16)/116),z=y-lab[2]/200;var y2=Math.pow(y,3),x2=Math.pow(x,3),z2=Math.pow(z,3);return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,[x*=95.047,y*=100,z*=108.883]},convert.lab.lch=function(lab){var h,l=lab[0],a=lab[1],b=lab[2];return(h=360*Math.atan2(b,a)/2/Math.PI)<0&&(h+=360),[l,Math.sqrt(a*a+b*b),h]},convert.lch.lab=function(lch){var hr,l=lch[0],c=lch[1];return hr=lch[2]/360*2*Math.PI,[l,c*Math.cos(hr),c*Math.sin(hr)]},convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];if(0===(value=Math.round(value/50)))return 30;var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];return r===g&&g===b?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),[color=color/10.5*255,color,color];var mult=.5*(1+~~(args>50));return[(1&color)*mult*255,(color>>1&1)*mult*255,(color>>2&1)*mult*255]},convert.ansi256.rgb=function(args){if(args>=232){var c=10*(args-232)+8;return[c,c,c]}var rem;return args-=16,[Math.floor(args/36)/5*255,Math.floor((rem=args%36)/6)/5*255,rem%6/5*255]},convert.rgb.hex=function(args){var string=(((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2]))).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match)return[0,0,0];var colorString=match[0];3===match[0].length&&(colorString=colorString.split("").map((function(char){return char+char})).join(""));var integer=parseInt(colorString,16);return[integer>>16&255,integer>>8&255,255&integer]},convert.rgb.hcg=function(rgb){var hue,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;return hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma+4,hue/=6,[360*(hue%=1),100*chroma,100*(chroma<1?min/(1-chroma):0)]},convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;return(c=l<.5?2*s*l:2*s*(1-l))<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];var mg,pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c),f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){var c=hcg[1]/100,l=hcg[2]/100*(1-c)+.5*c,s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){var w=hwb[1]/100,v=1-hwb[2]/100,c=v-w,g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]},convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]},convert.gray.hwb=function(gray){return[0,100,gray[0]]},convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]},convert.gray.lab=function(gray){return[gray[0],0,0]},convert.gray.hex=function(gray){var val=255&Math.round(gray[0]/100*255),string=((val<<16)+(val<<8)+val).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.rgb.gray=function(rgb){return[(rgb[0]+rgb[1]+rgb[2])/3/255*100]}},551:function(module,exports,__webpack_require__){"use strict";var colorString=__webpack_require__(1001),convert=__webpack_require__(1005),_slice=[].slice,skippedModels=["keyword","gray","hex"],hashedModelKeys={};Object.keys(convert).forEach((function(model){hashedModelKeys[_slice.call(convert[model].labels).sort().join("")]=model}));var limiters={};function Color(obj,model){if(!(this instanceof Color))return new Color(obj,model);if(model&&model in skippedModels&&(model=null),model&&!(model in convert))throw new Error("Unknown model: "+model);var i,channels;if(null==obj)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(obj instanceof Color)this.model=obj.model,this.color=obj.color.slice(),this.valpha=obj.valpha;else if("string"==typeof obj){var result=colorString.get(obj);if(null===result)throw new Error("Unable to parse color from string: "+obj);this.model=result.model,channels=convert[this.model].channels,this.color=result.value.slice(0,channels),this.valpha="number"==typeof result.value[channels]?result.value[channels]:1}else if(obj.length){this.model=model||"rgb",channels=convert[this.model].channels;var newArr=_slice.call(obj,0,channels);this.color=zeroArray(newArr,channels),this.valpha="number"==typeof obj[channels]?obj[channels]:1}else if("number"==typeof obj)obj&=16777215,this.model="rgb",this.color=[obj>>16&255,obj>>8&255,255&obj],this.valpha=1;else{this.valpha=1;var keys=Object.keys(obj);"alpha"in obj&&(keys.splice(keys.indexOf("alpha"),1),this.valpha="number"==typeof obj.alpha?obj.alpha:0);var hashedKeys=keys.sort().join("");if(!(hashedKeys in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(obj));this.model=hashedModelKeys[hashedKeys];var labels=convert[this.model].labels,color=[];for(i=0;i<labels.length;i++)color.push(obj[labels[i]]);this.color=zeroArray(color)}if(limiters[this.model])for(channels=convert[this.model].channels,i=0;i<channels;i++){var limit=limiters[this.model][i];limit&&(this.color[i]=limit(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function getset(model,channel,modifier){return(model=Array.isArray(model)?model:[model]).forEach((function(m){(limiters[m]||(limiters[m]=[]))[channel]=modifier})),model=model[0],function(val){var result;return arguments.length?(modifier&&(val=modifier(val)),(result=this[model]()).color[channel]=val,result):(result=this[model]().color[channel],modifier&&(result=modifier(result)),result)}}function maxfn(max){return function(v){return Math.max(0,Math.min(max,v))}}function assertArray(val){return Array.isArray(val)?val:[val]}function zeroArray(arr,length){for(var i=0;i<length;i++)"number"!=typeof arr[i]&&(arr[i]=0);return arr}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(places){var self=this.model in colorString.to?this:this.rgb(),args=1===(self=self.round("number"==typeof places?places:1)).valpha?self.color:self.color.concat(this.valpha);return colorString.to[self.model](args)},percentString:function(places){var self=this.rgb().round("number"==typeof places?places:1),args=1===self.valpha?self.color:self.color.concat(this.valpha);return colorString.to.rgb.percent(args)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var result={},channels=convert[this.model].channels,labels=convert[this.model].labels,i=0;i<channels;i++)result[labels[i]]=this.color[i];return 1!==this.valpha&&(result.alpha=this.valpha),result},unitArray:function(){var rgb=this.rgb().color;return rgb[0]/=255,rgb[1]/=255,rgb[2]/=255,1!==this.valpha&&rgb.push(this.valpha),rgb},unitObject:function(){var rgb=this.rgb().object();return rgb.r/=255,rgb.g/=255,rgb.b/=255,1!==this.valpha&&(rgb.alpha=this.valpha),rgb},round:function(places){return places=Math.max(places||0,0),new Color(this.color.map(function roundToPlace(places){return function(num){return function roundTo(num,places){return Number(num.toFixed(places))}(num,places)}}(places)).concat(this.valpha),this.model)},alpha:function(val){return arguments.length?new Color(this.color.concat(Math.max(0,Math.min(1,val))),this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,(function(val){return(val%360+360)%360})),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(100)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(100)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword:function(val){return arguments.length?new Color(val):convert[this.model].keyword(this.color)},hex:function(val){return arguments.length?new Color(val):colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var rgb=this.rgb().color;return(255&rgb[0])<<16|(255&rgb[1])<<8|255&rgb[2]},luminosity:function(){for(var rgb=this.rgb().color,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},isDark:function(){var rgb=this.rgb().color;return(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var rgb=this.rgb(),i=0;i<3;i++)rgb.color[i]=255-rgb.color[i];return rgb},lighten:function(ratio){var hsl=this.hsl();return hsl.color[2]+=hsl.color[2]*ratio,hsl},darken:function(ratio){var hsl=this.hsl();return hsl.color[2]-=hsl.color[2]*ratio,hsl},saturate:function(ratio){var hsl=this.hsl();return hsl.color[1]+=hsl.color[1]*ratio,hsl},desaturate:function(ratio){var hsl=this.hsl();return hsl.color[1]-=hsl.color[1]*ratio,hsl},whiten:function(ratio){var hwb=this.hwb();return hwb.color[1]+=hwb.color[1]*ratio,hwb},blacken:function(ratio){var hwb=this.hwb();return hwb.color[2]+=hwb.color[2]*ratio,hwb},grayscale:function(){var rgb=this.rgb().color,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return Color.rgb(val,val,val)},fade:function(ratio){return this.alpha(this.valpha-this.valpha*ratio)},opaquer:function(ratio){return this.alpha(this.valpha+this.valpha*ratio)},rotate:function(degrees){var hsl=this.hsl(),hue=hsl.color[0];return hue=(hue=(hue+degrees)%360)<0?360+hue:hue,hsl.color[0]=hue,hsl},mix:function(mixinColor,weight){if(!mixinColor||!mixinColor.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof mixinColor);var color1=mixinColor.rgb(),color2=this.rgb(),p=void 0===weight?.5:weight,w=2*p-1,a=color1.alpha()-color2.alpha(),w1=((w*a==-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1;return Color.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue(),color1.alpha()*p+color2.alpha()*(1-p))}},Object.keys(convert).forEach((function(model){if(-1===skippedModels.indexOf(model)){var channels=convert[model].channels;Color.prototype[model]=function(){if(this.model===model)return new Color(this);if(arguments.length)return new Color(arguments,model);var newAlpha="number"==typeof arguments[channels]?channels:this.valpha;return new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha),model)},Color[model]=function(color){return"number"==typeof color&&(color=zeroArray(_slice.call(arguments),channels)),new Color(color,model)}}})),module.exports=Color},65:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},8:function(module,__webpack_exports__,__webpack_require__){"use strict";function toVal(mix){var k,y,str="";if("string"==typeof mix||"number"==typeof mix)str+=mix;else if("object"==typeof mix)if(Array.isArray(mix))for(k=0;k<mix.length;k++)mix[k]&&(y=toVal(mix[k]))&&(str&&(str+=" "),str+=y);else for(k in mix)mix[k]&&(str&&(str+=" "),str+=k);return str}__webpack_exports__.a=function(){for(var tmp,x,i=0,str="";i<arguments.length;)(tmp=arguments[i++])&&(x=toVal(tmp))&&(str&&(str+=" "),str+=x);return str}}}]);
//# sourceMappingURL=vendors~main~7274e1de.e1e2a5d55a05dc4b96e2.bundle.js.map